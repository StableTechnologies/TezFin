Table Of Contents

 Comptroller tests
# Accounts
# Contracts
### Add Alice and admin to markets
### Set initial price
# Test paused functionality
## Set mint paused
### Common user attempts to set mint paused True
### Admin attempts to set mint paused True
### Common user attempts to set mint paused False
### Admin attempts to set mint paused False
### Set mint paused on listed market
### Set mint paused on not listed market
## Set borrow paused
### Common user attempts to set borrow paused True
### Admin attempts to set borrow paused True
### Common user attempts to set borrow paused False
### Admin attempts to set borrow paused False
### Set borrow paused on listed market
### Set borrow paused on not listed market
## Set transfer paused
### Common user attempts to set transfer paused True
### Admin attempts to set transfer paused True
### Common user attempts to set transfer paused False
### Admin attempts to set transfer paused False
# Test allowed functionality
## Mint allowed
### on the listed market
### on the not listed market
### mint is paused
### mint is not paused
## Redeem allowed
### on the listed market, without updated price
### on the listed market, with updated price, without updated liquidity
### on the listed market, with updated price and updated liquidity
### on the not listed market
### with insufficient liquidity
### without insufficient liquidity
### invalid after price was not updated for 5 blocks
## Borrow allowed
### on the listed market, without updated price
### on the listed market, with updated price, without updated liquidity
### on the listed market, with updated price and updated liquidity
### on the not listed market
### with insufficient liquidity
### without insufficient liquidity
### with price errors
### without price errors
### borrow is paused
### borrow is not paused
### alice calls borrowAllowed if borrower not in market
### cToken calls borrowAllowed if borrower not in market
### invalid after price was not updated for 5 blocks
## Repay borrow allowed
### on the listed market
### on the not listed market
## Transfer allowed
### redeem is allowed, without updated price
### redeem is allowed, with updated price, without updated liquidity
### redeem is allowed, with updated price and updated liquidity
### redeem is not allowed
### transfer is paused
### transfer is not paused
### invalid after price was not updated for 5 blocks
# Test markets
## Enter market
### on the listed market
### on the not listed market
### account membership is already joined
### account membership is not joined
## Exit market
### The sender hasn't borrow balance, asset price was not updated
### The sender hasn't borrow balance, asset price was updated, without updated liquidity
### The sender hasn't borrow balance, asset price was updated and updated liquidity
### The sender has borrow balance
# Test updateAssetPrice
## Update price
## Try to update price at the same level
## Try set price directly
# Test account liquidity
## Get current liquidity, without updated price
## Get current liquidity, with updated price
## Get liquidity with redeem
## Get liquidity with borrow
## Try return liquidity directly
## Try calculate liquidity directly
# Test admin functionality
## Set price oracle
### Common user attempts to set price oracle
### Admin attempts to set price oracle
## Set close factor
### Common user attempts to set close factor
### Admin attempts to set close factor
## Set liquidation incentive
### Common user attempts to set liquidation incentive
### Admin attempts to set liquidation incentive
## Set collateral factor
### Common user attempts to set collateral factor
### Admin attempts to set collateral factor
### Not listed market
## Support market
### Common user attempts to support market
### Admin attempts to support market
### Already listed market
## Disable market
### Common user attempts to disable market
### Admin attempts to disable market
### Not listed market
## Set market borrow cap
### Common user attempts to set market borrow cap
### Admin attempts to set market borrow cap
### Non-existant market
## Pending governance
### Common user attempts to set pending governance
### Admin attempts to set pending governance
## Accept governance
### Not pending admin attempts to accept governance
### Pending admin attempts to accept governance
Comment...
 h1: Comptroller tests
Comment...
 h2: Accounts
Computing sp.list([sp.test_account("Alice"), sp.test_account("admin"), sp.test_account("Hasn't accountMembership")])...
 => sp.list([sp.record(seed = 'Alice', address = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), public_key = sp.key('edpkuvNy6TuQ2z8o9wnoaTtTXkzQk7nhegCHfxBc4ecsd4qG71KYNG'), public_key_hash = sp.key_hash('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), secret_key = sp.secret_key('edskRijgcXx8gzqkq7SCBbrb6aDZQMmP6dznCQWgU1Jr4qPfJT1yFq5A39ja9G4wahS8uWtBurZy14Hy7GZkQh7WnopJTKtCQG')), sp.record(seed = 'admin', address = sp.address('tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5'), public_key = sp.key('edpkthtmpNV7DzPgvsU5ktVkfYbARpb2nzDbncU8mdbMeXGRhGTjN7'), public_key_hash = sp.key_hash('tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5'), secret_key = sp.secret_key('edskRjPeZkNsmeJ8aAzs5vyXVhP7DVRvG6nM1ReNfjzkR3h6ykbf71mPxQyE5HU9FHrV3EdrY4GVCSBWhU44v6bnhQGrKM9Cs8')), sp.record(seed = 'Hasn't accountMembership', address = sp.address('tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX'), public_key = sp.key('edpku46u8hdBAmL87g3AS3s9odYwGQWjsS9GDKtDvSCPnDgwDad6hE'), public_key_hash = sp.key_hash('tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX'), secret_key = sp.secret_key('edskRqFc22u3xePLPLYekC6bBWfmg6FzvQm5zic5XCyxHs94m3533gQCiMLGM3HmKc4MScigG2PyYhu7Z4ksoad96vSLkLx6yU'))])
Comment...
 h2: Contracts
Creating contract
 -> None
 => ../TezFinTest/Comptroller_Tests/step_005_cont_0_storage.tz 1
 => ../TezFinTest/Comptroller_Tests/step_005_cont_0_storage.json 1
 => ../TezFinTest/Comptroller_Tests/step_005_cont_0_sizes.csv 2
 => ../TezFinTest/Comptroller_Tests/step_005_cont_0_storage.py 1
 => ../TezFinTest/Comptroller_Tests/step_005_cont_0_types.py 7
 => ../TezFinTest/Comptroller_Tests/step_005_cont_0_contract.tz 20
 => ../TezFinTest/Comptroller_Tests/step_005_cont_0_contract.json 19
 => ../TezFinTest/Comptroller_Tests/step_005_cont_0_contract.py 15
 => ../TezFinTest/Comptroller_Tests/step_005_cont_0_contract.py.html 2097
Creating contract
 -> 0
 => ../TezFinTest/Comptroller_Tests/step_006_cont_1_storage.tz 1
 => ../TezFinTest/Comptroller_Tests/step_006_cont_1_storage.json 1
 => ../TezFinTest/Comptroller_Tests/step_006_cont_1_sizes.csv 2
 => ../TezFinTest/Comptroller_Tests/step_006_cont_1_storage.py 1
 => ../TezFinTest/Comptroller_Tests/step_006_cont_1_types.py 7
 => ../TezFinTest/Comptroller_Tests/step_006_cont_1_contract.tz 36
 => ../TezFinTest/Comptroller_Tests/step_006_cont_1_contract.json 80
 => ../TezFinTest/Comptroller_Tests/step_006_cont_1_contract.py 18
 => ../TezFinTest/Comptroller_Tests/step_006_cont_1_contract.py.html 2100
Creating contract
 -> (Pair (Pair (Pair (Pair (Pair {} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {} {})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True)))) {Elt 0 { UNPAIR; IF_LEFT { IF_LEFT { IF_LEFT { IF_LEFT { DROP } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH }; DUP; GET 5; CDR; IF_NONE { PUSH string "CMPT_NOT_SET_PENDING_ADMIN"; FAILWITH } {}; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_PENDING_ADMIN"; FAILWITH }; DUP; UNPAIR; UNPAIR; UNPAIR; SWAP; CAR; DIG 4; GET 5; CDR; IF_NONE { PUSH int 437; FAILWITH } {}; SWAP; PAIR; SWAP; PAIR; PAIR; SWAP; UNPAIR; SWAP; UNPAIR; CAR; NONE address; SWAP; PAIR; PAIR; SWAP; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 1 { UNPAIR; IF_LEFT { IF_LEFT { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } {} } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 193; FAILWITH } {}; CAR; GET 3; IF { PUSH string "CMPT_BORROW_PAUSED"; FAILWITH } {}; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 611; FAILWITH } {}; GET 3; CAR } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 196; FAILWITH } {}; CAR; CAR; CAR; SWAP; DUP; DUG 2; GET 3; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 196; FAILWITH } {}; CAR; CAR; CAR; SWAP; DUP; DUG 2; GET 3; GET; IF_NONE { PUSH int 197; FAILWITH } {} } { PUSH bool False }; IF {} { DUP; CAR; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_INVALID_BORROW_SENDER"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SENDER; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 611; FAILWITH } {}; GET 3; CAR } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 79; FAILWITH } {}; CAR; CAR; CAR; SWAP; DUP; DUG 2; GET 3; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 79; FAILWITH } {}; CAR; CAR; CAR; SWAP; DUP; DUG 2; GET 3; GET; IF_NONE { PUSH int 80; FAILWITH } {} } { PUSH bool False }; IF { PUSH string "CMPT_MARKET_JOINED"; FAILWITH } {}; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; SWAP; DUP; SENDER; DUP; DUG 2; GET; IF_NONE { PUSH int 81; FAILWITH } {}; UNPAIR; UNPAIR; UNPAIR; PUSH (option bool) (Some True); DUP 12; GET 3; UPDATE; PAIR; PAIR; PAIR; SOME; SWAP; UPDATE; SWAP; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; DUP; DUG 2; CAR; CAR; CAR; CAR; SWAP; DUP; DUG 2; GET 3; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; DUP; DUP 7; GET 3; DUP; DUG 2; GET; IF_NONE { PUSH int 83; FAILWITH } {}; PUSH bool True; SENDER; UPDATE; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR; SWAP } { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; EMPTY_SET address; PUSH bool True; SENDER; UPDATE; SOME; DUP 7; GET 3; UPDATE; PAIR; PAIR; PAIR; PAIR; SWAP } }; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; GET 3; MEM; IF {} { PUSH string "CMPT_LIQUIDITY_ABSENT"; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; GET 3; GET; IF_NONE { PUSH int 624; FAILWITH } {}; GET 4; IF {} { PUSH string "CMPT_LIQUIDITY_INVALID"; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; GET 3; GET; IF_NONE { PUSH int 625; FAILWITH } {}; GET 3; LEVEL; SUB; ISNAT; IF_NONE { PUSH string "SUBTRACTION_UNDERFLOW"; FAILWITH } {}; DUP 3; GET 3; CAR; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_LIQUIDITY_OLD"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 270; FAILWITH } {}; GET 8; LEVEL; SUB; ISNAT; IF_NONE { PUSH string "SUBTRACTION_UNDERFLOW"; FAILWITH } {}; DUP 3; GET 7; COMPARE; GT; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 3; GET 3; GET 4; DUP 3; CAR; GET; IF_NONE { PUSH int 272; FAILWITH } {}; GET 7; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; SWAP; DUP; DUG 2; CAR; GET 5; SWAP; DUP; DUG 2; GET 4; DUP 4; GET 3; GET 4; DUP 4; CAR; GET; IF_NONE { PUSH int 174; FAILWITH } {}; GET 7; MUL; EDIV; IF_NONE { PUSH int 58; FAILWITH } { CAR }; INT; DUP 3; CAR; CAR; CAR; CDR; DUP 3; GET 3; GET; IF_NONE { PUSH int 174; FAILWITH } {}; CAR; SUB; PUSH int 0; SWAP; COMPARE; GE; IF {} { PUSH string "CMPT_REDEEMER_SHORTFALL"; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; GET 3; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; SWAP; DUP; DIG 6; GET 3; DUP; DUG 2; GET; IF_NONE { PUSH int 630; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; SWAP; PAIR; PAIR; PAIR; PAIR } { DROP }; NIL operation; PAIR }; Elt 2 { UNPAIR; IF_LEFT { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; GET 3; PUSH nat 3; MEM; IF {} { PUSH string "OP_NOT_ACTIVE"; FAILWITH }; DUP; GET 4; DUP 3; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 270; FAILWITH } {}; GET 8; LEVEL; SUB; ISNAT; IF_NONE { PUSH string "SUBTRACTION_UNDERFLOW"; FAILWITH } {}; DUP 4; GET 7; SWAP; DUP; DUG 2; COMPARE; LT; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 5; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 272; FAILWITH } {}; GET 7; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; DUP 4; CAR; GET 5; DUP 3; DUP 6; CAR; GET 5; DUP 7; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 378; FAILWITH } {}; CAR; GET 4; DUP 8; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 378; FAILWITH } {}; GET 7; MUL; EDIV; IF_NONE { PUSH int 189; FAILWITH } { CAR }; MUL; EDIV; IF_NONE { PUSH int 189; FAILWITH } { CAR }; DUP 5; UNPAIR; UNPAIR; SWAP; UNPAIR; UNPAIR; DUP; GET 6; DIG 10; CAR; GET 5; DUP 11; GET 3; DUP 9; MUL; EDIV; IF_NONE { PUSH int 58; FAILWITH } { CAR }; ADD; UPDATE 6; PAIR; PAIR; SWAP; PAIR; PAIR; DUP; DUG 5; UNPAIR; UNPAIR; SWAP; UNPAIR; UNPAIR; DUP; GET 5; DUP 11; CAR; GET 5; DUP 11; CAR; CDR; DIG 12; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 381; FAILWITH } {}; GET 7; MUL; EDIV; IF_NONE { PUSH int 58; FAILWITH } { CAR }; ADD; UPDATE 5; PAIR; PAIR; SWAP; PAIR; PAIR; DUP; DUG 5; CAR; GET 3; CAR; CAR; GET 4; SENDER; SOME; COMPARE; EQ; IF { SWAP; DROP; SWAP; DROP; SWAP; DROP; DUP 2; UNPAIR; UNPAIR; SWAP; UNPAIR; UNPAIR; DUP; GET 6; DUP 8; CAR; GET 5; DIG 8; CAR; GET 3; CAR; GET 3; DIG 8; MUL; EDIV; IF_NONE { PUSH int 58; FAILWITH } { CAR }; ADD; UPDATE 6; PAIR; PAIR; SWAP; PAIR; PAIR; DUP; UNPAIR; UNPAIR; SWAP; UNPAIR; UNPAIR; DUP; GET 5; DUP 7; CAR; GET 5; DUP 8; CAR; GET 3; CAR; CAR; GET 3; DIG 8; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 384; FAILWITH } {}; GET 7; MUL; EDIV; IF_NONE { PUSH int 58; FAILWITH } { CAR }; ADD; UPDATE 5; PAIR; PAIR; SWAP; PAIR; PAIR } { DROP 4 }; NIL operation; PAIR }; Elt 3 { UNPAIR; IF_LEFT { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; GET 4; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; GET; IF_NONE { PUSH int 611; FAILWITH } {}; GET 3; CAR } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; SWAP; DUP; DIG 6; DUP; DUG 2; GET; IF_NONE { PUSH int 586; FAILWITH } {}; UNPAIR; SWAP; UNPAIR; CDR; PUSH bool False; PAIR; PAIR; SWAP; PAIR; SOME; SWAP; UPDATE; SWAP; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 4 { UNPAIR; IF_LEFT { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } {} } } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH }; DUP; ITER { DUP 3; GET 3; GET 4; SWAP; DUP; DUG 2; MEM; IF { DUP 3; GET 3; GET 4; SWAP; DUP; DUG 2; GET; IF_NONE { PUSH int 611; FAILWITH } {}; GET 3; CAR } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; DUP 3; GET 3; GET 4; SWAP; DUP; DUG 2; GET; IF_NONE { PUSH int 79; FAILWITH } {}; CAR; CAR; CAR; SENDER; MEM; IF { DUP 3; GET 3; GET 4; SWAP; DUP; DUG 2; GET; IF_NONE { PUSH int 79; FAILWITH } {}; CAR; CAR; CAR; SENDER; GET; IF_NONE { PUSH int 80; FAILWITH } {} } { PUSH bool False }; IF { PUSH string "CMPT_MARKET_JOINED"; FAILWITH } {}; DIG 2; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; SWAP; DUP; DUP 7; DUP; DUG 2; GET; IF_NONE { PUSH int 81; FAILWITH } {}; UNPAIR; UNPAIR; UNPAIR; PUSH (option bool) (Some True); SENDER; UPDATE; PAIR; PAIR; PAIR; SOME; SWAP; UPDATE; SWAP; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; DUP; DUG 3; CAR; CAR; CAR; CAR; SENDER; MEM; IF { DIG 2; UNPAIR; UNPAIR; UNPAIR; UNPAIR; DUP; SENDER; DUP; DUG 2; GET; IF_NONE { PUSH int 83; FAILWITH } {}; PUSH bool True; DIG 8; UPDATE; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR; SWAP } { DIG 2; UNPAIR; UNPAIR; UNPAIR; UNPAIR; EMPTY_SET address; PUSH bool True; DIG 7; UPDATE; SOME; SENDER; UPDATE; PAIR; PAIR; PAIR; PAIR; SWAP } }; DROP; DUP; CAR; CAR; CAR; CDR; SENDER; MEM; IF { UNPAIR; UNPAIR; UNPAIR; UNPAIR; SWAP; DUP; SENDER; DUP; DUG 2; GET; IF_NONE { PUSH int 630; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; SWAP; PAIR; PAIR; PAIR; PAIR } {}; NIL operation; PAIR }; Elt 5 { UNPAIR; IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { DROP } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH }; DUP; CAR; CAR; GET 4; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; UNPAIR; UNPAIR; UNPAIR; SWAP; CDR; EMPTY_SET nat; PAIR; SWAP; PAIR; PAIR; PAIR; NIL operation; PAIR }; Elt 6 { UNPAIR; IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 141; FAILWITH } {}; GET 3; CDR; IF { PUSH string "CMPT_MINT_PAUSED"; FAILWITH } {}; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 611; FAILWITH } {}; GET 3; CAR } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; GET 3; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; SWAP; DUP; DIG 6; GET 3; DUP; DUG 2; GET; IF_NONE { PUSH int 630; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; SWAP; PAIR; PAIR; PAIR; PAIR } { DROP }; NIL operation; PAIR }; Elt 7 { UNPAIR; IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } {} } } { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 611; FAILWITH } {}; GET 3; CAR } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 165; FAILWITH } {}; CAR; CAR; CAR; SWAP; DUP; DUG 2; GET 3; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 165; FAILWITH } {}; CAR; CAR; CAR; SWAP; DUP; DUG 2; GET 3; GET; IF_NONE { PUSH int 167; FAILWITH } {} } { PUSH bool False }; IF { SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; GET 3; MEM; IF {} { PUSH string "CMPT_LIQUIDITY_ABSENT"; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; GET 3; GET; IF_NONE { PUSH int 624; FAILWITH } {}; GET 4; IF {} { PUSH string "CMPT_LIQUIDITY_INVALID"; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; GET 3; GET; IF_NONE { PUSH int 625; FAILWITH } {}; GET 3; LEVEL; SUB; ISNAT; IF_NONE { PUSH string "SUBTRACTION_UNDERFLOW"; FAILWITH } {}; DUP 3; GET 3; CAR; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_LIQUIDITY_OLD"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 270; FAILWITH } {}; GET 8; LEVEL; SUB; ISNAT; IF_NONE { PUSH string "SUBTRACTION_UNDERFLOW"; FAILWITH } {}; DUP 3; GET 7; COMPARE; GT; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 3; GET 3; GET 4; DUP 3; CAR; GET; IF_NONE { PUSH int 272; FAILWITH } {}; GET 7; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; SWAP; DUP; DUG 2; CAR; GET 5; SWAP; DUP; DUG 2; GET 4; DUP 4; GET 3; GET 4; DUP 4; CAR; GET; IF_NONE { PUSH int 174; FAILWITH } {}; GET 7; MUL; EDIV; IF_NONE { PUSH int 58; FAILWITH } { CAR }; INT; DUP 3; CAR; CAR; CAR; CDR; DUP 3; GET 3; GET; IF_NONE { PUSH int 174; FAILWITH } {}; CAR; SUB; PUSH int 0; SWAP; COMPARE; GE; IF {} { PUSH string "CMPT_REDEEMER_SHORTFALL"; FAILWITH } } {}; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; GET 3; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; SWAP; DUP; DIG 6; GET 3; DUP; DUG 2; GET; IF_NONE { PUSH int 630; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; SWAP; PAIR; PAIR; PAIR; PAIR } { DROP }; NIL operation; PAIR }; Elt 8 { UNPAIR; IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } } { PUSH int -1; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 611; FAILWITH } {}; GET 3; CAR } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; GET 5; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; SWAP; DUP; DUP 7; GET 5; DUP; DUG 2; GET; IF_NONE { PUSH int 630; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; SWAP; PAIR; PAIR; PAIR; PAIR; SWAP } {}; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; GET 3; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; SWAP; DUP; DIG 6; GET 3; DUP; DUG 2; GET; IF_NONE { PUSH int 630; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; SWAP; PAIR; PAIR; PAIR; PAIR } { DROP }; NIL operation; PAIR }; Elt 9 { UNPAIR; IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { DROP } { PUSH int -1; FAILWITH } } } } } { PUSH int -1; FAILWITH }; DUP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; SWAP; PUSH bool True; LEVEL; DUP 8; CAR; GET 3; CAR; GET 5; DUP 9; CAR; GET 3; CAR; GET 6; SUB; PAIR 3; SOME; DIG 6; CAR; GET 3; CAR; CAR; CAR; IF_NONE { PUSH int 295; FAILWITH } {}; UPDATE; SWAP; PAIR; PAIR; SWAP; UNPAIR; CDR; PUSH (pair (pair (option address) (pair nat (option address))) (pair nat (pair nat nat))) (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))); PAIR; PAIR; SWAP; PAIR; PAIR; NIL operation; PAIR }; Elt 10 { UNPAIR; IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } {} } } } } { PUSH int -1; FAILWITH }; DUP; CAR; CDR; PUSH nat 0; COMPARE; EQ; IF {} { PUSH string "CMPT_BORROW_IN_MARKET"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SENDER; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 611; FAILWITH } {}; GET 3; CAR } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 165; FAILWITH } {}; CAR; CAR; CAR; SWAP; DUP; DUG 2; CAR; CAR; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 165; FAILWITH } {}; CAR; CAR; CAR; SWAP; DUP; DUG 2; CAR; CAR; GET; IF_NONE { PUSH int 167; FAILWITH } {} } { PUSH bool False }; IF { SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; CAR; CAR; MEM; IF {} { PUSH string "CMPT_LIQUIDITY_ABSENT"; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; CAR; CAR; GET; IF_NONE { PUSH int 624; FAILWITH } {}; GET 4; IF {} { PUSH string "CMPT_LIQUIDITY_INVALID"; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; CAR; CAR; GET; IF_NONE { PUSH int 625; FAILWITH } {}; GET 3; LEVEL; SUB; ISNAT; IF_NONE { PUSH string "SUBTRACTION_UNDERFLOW"; FAILWITH } {}; DUP 3; GET 3; CAR; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_LIQUIDITY_OLD"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 270; FAILWITH } {}; GET 8; LEVEL; SUB; ISNAT; IF_NONE { PUSH string "SUBTRACTION_UNDERFLOW"; FAILWITH } {}; DUP 3; GET 7; COMPARE; GT; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 3; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 272; FAILWITH } {}; GET 7; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; SWAP; DUP; DUG 2; CAR; GET 5; SWAP; DUP; DUG 2; GET 3; DUP 4; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 174; FAILWITH } {}; GET 7; MUL; EDIV; IF_NONE { PUSH int 58; FAILWITH } { CAR }; INT; DUP 3; CAR; CAR; CAR; CDR; DUP 3; CAR; CAR; GET; IF_NONE { PUSH int 174; FAILWITH } {}; CAR; SUB; PUSH int 0; SWAP; COMPARE; GE; IF {} { PUSH string "CMPT_REDEEMER_SHORTFALL"; FAILWITH } } {}; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; CAR; CAR; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; SWAP; DUP; DUP 7; CAR; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 630; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; SWAP; PAIR; PAIR; PAIR; PAIR; SWAP } {}; SWAP; DUP; DUG 2; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 120; FAILWITH } {}; CAR; CAR; CAR; SWAP; DUP; DUG 2; CAR; CAR; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SENDER; GET; IF_NONE { PUSH int 120; FAILWITH } {}; CAR; CAR; CAR; SWAP; DUP; DUG 2; CAR; CAR; GET; IF_NONE { PUSH int 122; FAILWITH } {} } { PUSH bool False }; IF { SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; SWAP; DUP; SENDER; DUP; DUG 2; GET; IF_NONE { PUSH int 124; FAILWITH } {}; UNPAIR; UNPAIR; UNPAIR; NONE bool; DUP 12; CAR; CAR; UPDATE; PAIR; PAIR; PAIR; SOME; SWAP; UPDATE; SWAP; PAIR; SWAP; PAIR; PAIR; SWAP; UNPAIR; UNPAIR; UNPAIR; DUP; DUP 7; CAR; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 126; FAILWITH } {}; PUSH bool False; SENDER; UPDATE; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR; SWAP } {}; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; CAR; CAR; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; SWAP; DUP; DIG 6; CAR; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 630; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; SWAP; PAIR; PAIR; PAIR; PAIR } { DROP }; NIL operation; PAIR }; Elt 11 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { IF_LEFT {} { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } }; SWAP; DUP; DUG 2; CAR; CAR; GET 3; PUSH nat 2; MEM; IF {} { PUSH string "OP_NOT_ACTIVE"; FAILWITH }; SWAP; UNPAIR; UNPAIR; UNPAIR; SWAP; UNPAIR; PUSH bool False; PUSH nat 2; UPDATE; PAIR; SWAP; PAIR; PAIR; PAIR; SWAP; UNPAIR; SWAP; DUP 3; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; SWAP; DUP; DUP 9; GET 3; GET 3; DUP 9; GET; IF_NONE { PUSH int 265; FAILWITH } {}; DUP; DUG 2; GET; IF_NONE { PUSH int 266; FAILWITH } {}; DIG 9; CAR; GET 5; DIG 8; CDR; MUL; UPDATE 7; SOME; SWAP; UPDATE; SWAP; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; DUP; DUG 2; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; SWAP; DUP; DIG 7; GET 3; GET 3; DIG 7; GET; IF_NONE { PUSH int 265; FAILWITH } {}; DUP; DUG 2; GET; IF_NONE { PUSH int 267; FAILWITH } {}; LEVEL; UPDATE 8; SOME; SWAP; UPDATE; SWAP; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 12 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 611; FAILWITH } {}; GET 3; CAR } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; GET 4; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; SWAP; DUP; DUP 7; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 472; FAILWITH } {}; UNPAIR; UNPAIR; SWAP; CDR; DIG 9; CDR; PAIR; SWAP; PAIR; PAIR; SOME; SWAP; UPDATE; SWAP; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 13 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } {} } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } }; SWAP; DUP; DUG 2; CAR; CAR; GET 4; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; CAR; DIG 4; SWAP; PAIR; PAIR; SWAP; PAIR; PAIR; NIL operation; PAIR }; Elt 14 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH } }; SWAP; DUP; DUG 2; CAR; CAR; GET 4; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 611; FAILWITH } {}; GET 3; CAR } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; SWAP; DUP; DUP 7; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 531; FAILWITH } {}; UNPAIR; UNPAIR; SWAP; CAR; DIG 9; CDR; SWAP; PAIR; SWAP; PAIR; PAIR; SOME; SWAP; UPDATE; SWAP; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 15 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } } { PUSH int -1; FAILWITH } }; SWAP; DUP; DUG 2; CAR; CAR; GET 4; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; CDR; DIG 4; PAIR; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 16 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } {} } } } { PUSH int -1; FAILWITH } }; SWAP; DUP; DUG 2; CAR; CAR; GET 4; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; MEM; IF {} { PUSH string "CMPT_MARKET_NOT_EXISTS"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; SWAP; DUP; DUP 7; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 603; FAILWITH } {}; UNPAIR; UNPAIR; CAR; DIG 9; CDR; SWAP; PAIR; PAIR; PAIR; SOME; SWAP; UPDATE; SWAP; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 17 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT {} { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } } }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 611; FAILWITH } {}; GET 3; CAR } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; GET 4; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; SWAP; DUP; DUP 7; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 455; FAILWITH } {}; UNPAIR; SWAP; UNPAIR; CAR; DIG 9; CDR; SWAP; PAIR; PAIR; SWAP; PAIR; SOME; SWAP; UPDATE; SWAP; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 18 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH } } }; SWAP; DUP; DUG 2; CAR; CAR; GET 4; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; SWAP; UNPAIR; CAR; DIG 4; SOME; SWAP; PAIR; PAIR; SWAP; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 19 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } {} } } { PUSH int -1; FAILWITH } } }; SWAP; DUP; DUG 2; CAR; CAR; GET 4; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; SWAP; UNPAIR; CDR; DIG 4; PAIR; PAIR; SWAP; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 20 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } }; SWAP; DUP; DUG 2; CAR; CAR; GET 4; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; UPDATE 8; NIL operation; PAIR }; Elt 21 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } } }; SWAP; DUP; DUG 2; CAR; CAR; GET 4; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; GET; IF_NONE { PUSH int 614; FAILWITH } {}; GET 3; CAR } { PUSH bool False }; IF { PUSH string "CMPT_MARKET_ALREADY_LISTED"; FAILWITH } {}; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; SWAP; PUSH (pair nat nat) (Pair 0 0); DUP 7; CDR; PAIR; PUSH (pair bool bool) (Pair True True); PAIR; PUSH (pair bool nat) (Pair True 900000000000000000); PUSH nat 0; EMPTY_BIG_MAP address bool; PAIR; PAIR; PAIR; SOME; DUP 7; CAR; UPDATE; SWAP; DUP 6; CAR; SOME; DIG 6; CDR; UPDATE; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 22 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } {} } } } }; SWAP; DUP; DUG 2; GET 8; IF { PUSH string "CMPT_TRANSFER_PAUSED"; FAILWITH } {}; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; CAR; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; CAR; GET; IF_NONE { PUSH int 611; FAILWITH } {}; GET 3; CAR } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; CAR; GET; IF_NONE { PUSH int 165; FAILWITH } {}; CAR; CAR; CAR; SWAP; DUP; DUG 2; CAR; CDR; MEM; IF { SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; CAR; GET; IF_NONE { PUSH int 165; FAILWITH } {}; CAR; CAR; CAR; SWAP; DUP; DUG 2; CAR; CDR; GET; IF_NONE { PUSH int 167; FAILWITH } {} } { PUSH bool False }; IF { SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; CAR; CDR; MEM; IF {} { PUSH string "CMPT_LIQUIDITY_ABSENT"; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; CAR; CDR; GET; IF_NONE { PUSH int 624; FAILWITH } {}; GET 4; IF {} { PUSH string "CMPT_LIQUIDITY_INVALID"; FAILWITH }; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; CAR; CDR; GET; IF_NONE { PUSH int 625; FAILWITH } {}; GET 3; LEVEL; SUB; ISNAT; IF_NONE { PUSH string "SUBTRACTION_UNDERFLOW"; FAILWITH } {}; DUP 3; GET 3; CAR; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_LIQUIDITY_OLD"; FAILWITH }; SWAP; DUP; DUG 2; GET 3; GET 4; SWAP; DUP; DUG 2; CAR; CAR; GET; IF_NONE { PUSH int 270; FAILWITH } {}; GET 8; LEVEL; SUB; ISNAT; IF_NONE { PUSH string "SUBTRACTION_UNDERFLOW"; FAILWITH } {}; DUP 3; GET 7; COMPARE; GT; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 3; GET 3; GET 4; DUP 3; CAR; CAR; GET; IF_NONE { PUSH int 272; FAILWITH } {}; GET 7; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; SWAP; DUP; DUG 2; CAR; GET 5; SWAP; DUP; DUG 2; GET 4; DUP 4; GET 3; GET 4; DUP 4; CAR; CAR; GET; IF_NONE { PUSH int 174; FAILWITH } {}; GET 7; MUL; EDIV; IF_NONE { PUSH int 58; FAILWITH } { CAR }; INT; DUP 3; CAR; CAR; CAR; CDR; DUP 3; CAR; CDR; GET; IF_NONE { PUSH int 174; FAILWITH } {}; CAR; SUB; PUSH int 0; SWAP; COMPARE; GE; IF {} { PUSH string "CMPT_REDEEMER_SHORTFALL"; FAILWITH } } {}; SWAP; DUP; DUG 2; CAR; CAR; CAR; CDR; SWAP; DUP; DUG 2; CAR; CDR; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; SWAP; DUP; DIG 6; CAR; CDR; DUP; DUG 2; GET; IF_NONE { PUSH int 630; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; SWAP; PAIR; PAIR; PAIR; PAIR } { DROP }; NIL operation; PAIR }})
 => ../TezFinTest/Comptroller_Tests/step_007_cont_2_storage.tz 1
 => ../TezFinTest/Comptroller_Tests/step_007_cont_2_storage.json 3709
 => ../TezFinTest/Comptroller_Tests/step_007_cont_2_sizes.csv 2
 => ../TezFinTest/Comptroller_Tests/step_007_cont_2_storage.py 1
 => ../TezFinTest/Comptroller_Tests/step_007_cont_2_types.py 7
 => ../TezFinTest/Comptroller_Tests/step_007_cont_2_contract.tz 790
 => ../TezFinTest/Comptroller_Tests/step_007_cont_2_contract.json 2482
 => ../TezFinTest/Comptroller_Tests/step_007_cont_2_contract.py 402
 => ../TezFinTest/Comptroller_Tests/step_007_cont_2_contract.py.html 2471
Creating contract
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 10 1000000000000000000)))
 => ../TezFinTest/Comptroller_Tests/step_008_cont_3_storage.tz 1
 => ../TezFinTest/Comptroller_Tests/step_008_cont_3_storage.json 13
 => ../TezFinTest/Comptroller_Tests/step_008_cont_3_sizes.csv 2
 => ../TezFinTest/Comptroller_Tests/step_008_cont_3_storage.py 1
 => ../TezFinTest/Comptroller_Tests/step_008_cont_3_types.py 7
 => ../TezFinTest/Comptroller_Tests/step_008_cont_3_contract.tz 47
 => ../TezFinTest/Comptroller_Tests/step_008_cont_3_contract.json 171
 => ../TezFinTest/Comptroller_Tests/step_008_cont_3_contract.py 28
 => ../TezFinTest/Comptroller_Tests/step_008_cont_3_contract.py.html 2111
 => ../TezFinTest/Comptroller_Tests/step_009_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_009_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_009_cont_2_params.json 19
Executing addMarket((sp.address('KT10'), sp.record(accountMembership = sp.set_type_expr({}, sp.TBigMap(sp.TAddress, sp.TBool)), borrowCap = 0, borrowPaused = True, collateralFactor = sp.record(mantissa = 1000000000000000000), isListed = True, mintPaused = True, name = 'm1', price = sp.record(mantissa = 0), updateLevel = 0)))...
 -> (Pair (Pair (Pair (Pair {} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"} {Elt "KT10" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m1" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
 => ../TezFinTest/Comptroller_Tests/step_010_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_010_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_010_cont_2_params.json 19
Executing addMarket((sp.address('KT11'), sp.record(accountMembership = sp.set_type_expr({}, sp.TBigMap(sp.TAddress, sp.TBool)), borrowCap = 0, borrowPaused = True, collateralFactor = sp.record(mantissa = 1000000000000000000), isListed = False, mintPaused = True, name = 'm2', price = sp.record(mantissa = 0), updateLevel = 0)))...
 -> (Pair (Pair (Pair (Pair {} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"} {Elt "KT10" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
 => ../TezFinTest/Comptroller_Tests/step_011_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_011_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_011_cont_2_params.json 19
Executing addMarket((sp.address('KT12'), sp.record(accountMembership = sp.set_type_expr({}, sp.TBigMap(sp.TAddress, sp.TBool)), borrowCap = 0, borrowPaused = True, collateralFactor = sp.record(mantissa = 1000000000000000000), isListed = True, mintPaused = True, name = 'm3', price = sp.record(mantissa = 0), updateLevel = 0)))...
 -> (Pair (Pair (Pair (Pair {} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"} {Elt "KT10" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
 => ../TezFinTest/Comptroller_Tests/step_012_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_012_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_012_cont_2_params.json 19
Executing addMarket((sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'), sp.record(accountMembership = sp.set_type_expr({}, sp.TBigMap(sp.TAddress, sp.TBool)), borrowCap = 0, borrowPaused = True, collateralFactor = sp.record(mantissa = 1000000000000000000), isListed = True, mintPaused = True, name = 'm4', price = sp.record(mantissa = 0), updateLevel = 0)))...
 -> (Pair (Pair (Pair (Pair {} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
Comment...
 h4: Add Alice and admin to markets
 => ../TezFinTest/Comptroller_Tests/step_014_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_014_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_014_cont_2_params.json 1
Executing enterMarkets(sp.list([sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'), sp.address('KT10')]))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
 => ../TezFinTest/Comptroller_Tests/step_015_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_015_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_015_cont_2_params.json 1
Executing enterMarkets(sp.list([sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'), sp.address('KT10')]))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
Comment...
 h4: Set initial price
 => ../TezFinTest/Comptroller_Tests/step_017_cont_1_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_017_cont_1_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_017_cont_1_params.json 1
Executing setPrice(1)...
 -> 1
Comment...
 h2: Test paused functionality
Comment...
 h3: Set mint paused
Comment...
 h4: Common user attempts to set mint paused True
 => ../TezFinTest/Comptroller_Tests/step_021_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_021_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_021_cont_2_params.json 1
Executing setMintPaused(sp.record(cToken = sp.address('KT10'), state = True))...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to set mint paused True
 => ../TezFinTest/Comptroller_Tests/step_023_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_023_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_023_cont_2_params.json 1
Executing setMintPaused(sp.record(cToken = sp.address('KT10'), state = True))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
Verifying sp.contract_data(2).markets[sp.address('KT10')].mintPaused == True...
 OK
Comment...
 h4: Common user attempts to set mint paused False
 => ../TezFinTest/Comptroller_Tests/step_026_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_026_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_026_cont_2_params.json 1
Executing setMintPaused(sp.record(cToken = sp.address('KT10'), state = False))...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to set mint paused False
 => ../TezFinTest/Comptroller_Tests/step_028_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_028_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_028_cont_2_params.json 1
Executing setMintPaused(sp.record(cToken = sp.address('KT10'), state = False))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
Verifying sp.contract_data(2).markets[sp.address('KT10')].mintPaused == False...
 OK
Comment...
 h4: Set mint paused on listed market
 => ../TezFinTest/Comptroller_Tests/step_031_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_031_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_031_cont_2_params.json 1
Executing setMintPaused(sp.record(cToken = sp.address('KT10'), state = False))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
Comment...
 h4: Set mint paused on not listed market
 => ../TezFinTest/Comptroller_Tests/step_033_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_033_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_033_cont_2_params.json 1
Executing setMintPaused(sp.record(cToken = sp.address('KT11'), state = False))...
 -> --- Expected failure in transaction --- Wrong condition: ((self.data.markets.contains(params.cToken)) & self.data.markets[params.cToken].isListed : sp.TBool) (contracts/Comptroller.py, line 611)
Message: 'CMPT_MARKET_NOT_LISTED'
 (contracts/Comptroller.py, line 611)
Comment...
 h3: Set borrow paused
Comment...
 h4: Common user attempts to set borrow paused True
 => ../TezFinTest/Comptroller_Tests/step_036_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_036_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_036_cont_2_params.json 1
Executing setBorrowPaused(sp.record(cToken = sp.address('KT10'), state = True))...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to set borrow paused True
 => ../TezFinTest/Comptroller_Tests/step_038_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_038_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_038_cont_2_params.json 1
Executing setBorrowPaused(sp.record(cToken = sp.address('KT10'), state = True))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
Verifying sp.contract_data(2).markets[sp.address('KT10')].borrowPaused == True...
 OK
Comment...
 h4: Common user attempts to set borrow paused False
 => ../TezFinTest/Comptroller_Tests/step_041_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_041_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_041_cont_2_params.json 1
Executing setBorrowPaused(sp.record(cToken = sp.address('KT10'), state = False))...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to set borrow paused False
 => ../TezFinTest/Comptroller_Tests/step_043_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_043_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_043_cont_2_params.json 1
Executing setBorrowPaused(sp.record(cToken = sp.address('KT10'), state = False))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
Verifying sp.contract_data(2).markets[sp.address('KT10')].borrowPaused == False...
 OK
Comment...
 h4: Set borrow paused on listed market
 => ../TezFinTest/Comptroller_Tests/step_046_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_046_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_046_cont_2_params.json 1
Executing setBorrowPaused(sp.record(cToken = sp.address('KT10'), state = False))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
Comment...
 h4: Set borrow paused on not listed market
 => ../TezFinTest/Comptroller_Tests/step_048_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_048_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_048_cont_2_params.json 1
Executing setBorrowPaused(sp.record(cToken = sp.address('KT11'), state = False))...
 -> --- Expected failure in transaction --- Wrong condition: ((self.data.markets.contains(params.cToken)) & self.data.markets[params.cToken].isListed : sp.TBool) (contracts/Comptroller.py, line 611)
Message: 'CMPT_MARKET_NOT_LISTED'
 (contracts/Comptroller.py, line 611)
Comment...
 h3: Set transfer paused
Comment...
 h4: Common user attempts to set transfer paused True
 => ../TezFinTest/Comptroller_Tests/step_051_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_051_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_051_cont_2_params.json 1
Executing setTransferPaused(True)...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to set transfer paused True
 => ../TezFinTest/Comptroller_Tests/step_053_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_053_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_053_cont_2_params.json 1
Executing setTransferPaused(True)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
Verifying sp.contract_data(2).transferPaused == True...
 OK
Comment...
 h4: Common user attempts to set transfer paused False
 => ../TezFinTest/Comptroller_Tests/step_056_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_056_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_056_cont_2_params.json 1
Executing setTransferPaused(False)...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to set transfer paused False
 => ../TezFinTest/Comptroller_Tests/step_058_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_058_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_058_cont_2_params.json 1
Executing setTransferPaused(False)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Verifying sp.contract_data(2).transferPaused == False...
 OK
Comment...
 h2: Test allowed functionality
Comment...
 h3: Mint allowed
Comment...
 h4: on the listed market
 => ../TezFinTest/Comptroller_Tests/step_063_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_063_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_063_cont_2_params.json 1
Executing mintAllowed(sp.record(cToken = sp.address('KT10'), minter = sp.to_constant(sp.test_account("Alice").address), mintAmount = 100))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h4: on the not listed market
 => ../TezFinTest/Comptroller_Tests/step_065_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_065_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_065_cont_2_params.json 1
Executing mintAllowed(sp.record(cToken = sp.address('KT11'), minter = sp.to_constant(sp.test_account("Alice").address), mintAmount = 100))...
 -> --- Expected failure in transaction --- Wrong condition: (~ self.data.markets[params.cToken].mintPaused : sp.TBool) (contracts/Comptroller.py, line 141)
Message: 'CMPT_MINT_PAUSED'
 (contracts/Comptroller.py, line 141)
Comment...
 h4: mint is paused
 => ../TezFinTest/Comptroller_Tests/step_067_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_067_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_067_cont_2_params.json 1
Executing setMintPaused(sp.record(cToken = sp.address('KT10'), state = True))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True True) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_068_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_068_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_068_cont_2_params.json 1
Executing mintAllowed(sp.record(cToken = sp.address('KT10'), minter = sp.to_constant(sp.test_account("Alice").address), mintAmount = 100))...
 -> --- Expected failure in transaction --- Wrong condition: (~ self.data.markets[params.cToken].mintPaused : sp.TBool) (contracts/Comptroller.py, line 141)
Message: 'CMPT_MINT_PAUSED'
 (contracts/Comptroller.py, line 141)
Comment...
 h4: mint is not paused
 => ../TezFinTest/Comptroller_Tests/step_070_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_070_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_070_cont_2_params.json 1
Executing setMintPaused(sp.record(cToken = sp.address('KT10'), state = False))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_071_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_071_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_071_cont_2_params.json 1
Executing mintAllowed(sp.record(cToken = sp.address('KT10'), minter = sp.to_constant(sp.test_account("Alice").address), mintAmount = 100))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h3: Redeem allowed
Comment...
 h4: on the listed market, without updated price
 => ../TezFinTest/Comptroller_Tests/step_074_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_074_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_074_cont_2_params.json 1
Executing redeemAllowed(sp.record(cToken = sp.address('KT10'), redeemer = sp.to_constant(sp.test_account("Alice").address), redeemAmount = 10))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.account_liquidity.contains(params.redeemer) : sp.TBool) (contracts/Comptroller.py, line 623)
Message: 'CMPT_LIQUIDITY_ABSENT'
 (contracts/Comptroller.py, line 623)
Comment...
 h4: on the listed market, with updated price, without updated liquidity
 => ../TezFinTest/Comptroller_Tests/step_076_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_076_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_076_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT10'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {2} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 0)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m1', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m1', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_077_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_077_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_077_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT11'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {2} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 0)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m2', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m2', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_078_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_078_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_078_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT12'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {2} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 0)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m3', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m3', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_079_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_079_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_079_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {2} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 0))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m4', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m4', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_080_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_080_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_080_cont_2_params.json 1
Executing redeemAllowed(sp.record(cToken = sp.address('KT10'), redeemer = sp.to_constant(sp.test_account("Alice").address), redeemAmount = 10))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.account_liquidity.contains(params.redeemer) : sp.TBool) (contracts/Comptroller.py, line 623)
Message: 'CMPT_LIQUIDITY_ABSENT'
 (contracts/Comptroller.py, line 623)
Comment...
 h4: on the listed market, with updated price and updated liquidity
 => ../TezFinTest/Comptroller_Tests/step_082_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_082_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_082_cont_2_params.json 1
Executing updateAccountLiquidity(sp.to_constant(sp.test_account("Alice").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT10%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: sp.unit
     amount: sp.tez(0)
     to:     sp.contract(sp.TUnit, sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 10 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 10))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Executing (queue) setAccountLiquidity(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 31 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_083_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_083_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_083_cont_2_params.json 1
Executing redeemAllowed(sp.record(cToken = sp.address('KT10'), redeemer = sp.to_constant(sp.test_account("Alice").address), redeemAmount = 10))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 31 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h4: on the not listed market
 => ../TezFinTest/Comptroller_Tests/step_085_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_085_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_085_cont_2_params.json 1
Executing redeemAllowed(sp.record(cToken = sp.address('KT11'), redeemer = sp.to_constant(sp.test_account("Alice").address), redeemAmount = 10))...
 -> --- Expected failure in transaction --- Wrong condition: ((self.data.markets.contains(params.cToken)) & self.data.markets[params.cToken].isListed : sp.TBool) (contracts/Comptroller.py, line 611)
Message: 'CMPT_MARKET_NOT_LISTED'
 (contracts/Comptroller.py, line 611)
Comment...
 h4: with insufficient liquidity
 => ../TezFinTest/Comptroller_Tests/step_087_cont_3_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_087_cont_3_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_087_cont_3_params.json 7
Executing setAccountSnapshot(sp.record(account = sp.to_constant(sp.test_account("Alice").address), borrowBalance = 100, cTokenBalance = 0, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100) (Pair 0 1000000000000000000)))
 => ../TezFinTest/Comptroller_Tests/step_088_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_088_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_088_cont_2_params.json 1
Executing updateAccountLiquidity(sp.to_constant(sp.test_account("Alice").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 31 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT10%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: sp.unit
     amount: sp.tez(0)
     to:     sp.contract(sp.TUnit, sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100) (Pair 0 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 100, cTokenBalance = 0, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 100, cTokenBalance = 0, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 31 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 100 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Executing (queue) setAccountLiquidity(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair -100 (Pair 32 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_089_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_089_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_089_cont_2_params.json 1
Executing redeemAllowed(sp.record(cToken = sp.address('KT10'), redeemer = sp.to_constant(sp.test_account("Alice").address), redeemAmount = 10))...
 -> --- Expected failure in transaction --- Wrong condition: (compute_Comptroller_174.value >= 0 : sp.TBool) (contracts/Comptroller.py, line 175)
Message: 'CMPT_REDEEMER_SHORTFALL'
 (contracts/Comptroller.py, line 175)
Comment...
 h4: without insufficient liquidity
 => ../TezFinTest/Comptroller_Tests/step_091_cont_3_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_091_cont_3_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_091_cont_3_params.json 7
Executing setAccountSnapshot(sp.record(account = sp.to_constant(sp.test_account("Alice").address), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 100 1000000000000000000)))
 => ../TezFinTest/Comptroller_Tests/step_092_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_092_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_092_cont_2_params.json 1
Executing updateAccountLiquidity(sp.to_constant(sp.test_account("Alice").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair -100 (Pair 32 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT10%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: sp.unit
     amount: sp.tez(0)
     to:     sp.contract(sp.TUnit, sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 100 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair -100 (Pair 32 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 100))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Executing (queue) setAccountLiquidity(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 33 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_093_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_093_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_093_cont_2_params.json 1
Executing redeemAllowed(sp.record(cToken = sp.address('KT10'), redeemer = sp.to_constant(sp.test_account("Alice").address), redeemAmount = 10))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 33 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h4: invalid after price was not updated for 5 blocks
 => ../TezFinTest/Comptroller_Tests/step_095_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_095_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_095_cont_2_params.json 1
Executing redeemAllowed(sp.record(cToken = sp.address('KT10'), redeemer = sp.to_constant(sp.test_account("Alice").address), redeemAmount = 10))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.account_liquidity[params.redeemer].valid : sp.TBool) (contracts/Comptroller.py, line 624)
Message: 'CMPT_LIQUIDITY_INVALID'
 (contracts/Comptroller.py, line 624)
Comment...
 h3: Borrow allowed
Comment...
 h4: on the listed market, without updated price
 => ../TezFinTest/Comptroller_Tests/step_098_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_098_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_098_cont_2_params.json 1
Executing borrowAllowed(sp.record(cToken = sp.address('KT10'), borrower = sp.to_constant(sp.test_account("Alice").address), borrowAmount = 100))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.account_liquidity[params.borrower].valid : sp.TBool) (contracts/Comptroller.py, line 624)
Message: 'CMPT_LIQUIDITY_INVALID'
 (contracts/Comptroller.py, line 624)
Comment...
 h4: on the listed market, with updated price, without updated liquidity
 => ../TezFinTest/Comptroller_Tests/step_100_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_100_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_100_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT10'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 33 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 30)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m1', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m1', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 33 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_101_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_101_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_101_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT11'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 33 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 30)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m2', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m2', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 33 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_102_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_102_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_102_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT12'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 33 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 30)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m3', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m3', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 33 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_103_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_103_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_103_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 33 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 30))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m4', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m4', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 33 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_104_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_104_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_104_cont_2_params.json 1
Executing borrowAllowed(sp.record(cToken = sp.address('KT10'), borrower = sp.to_constant(sp.test_account("Alice").address), borrowAmount = 100))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.account_liquidity[params.borrower].valid : sp.TBool) (contracts/Comptroller.py, line 624)
Message: 'CMPT_LIQUIDITY_INVALID'
 (contracts/Comptroller.py, line 624)
Comment...
 h4: on the listed market, with updated price and updated liquidity
 => ../TezFinTest/Comptroller_Tests/step_106_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_106_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_106_cont_2_params.json 1
Executing updateAccountLiquidity(sp.to_constant(sp.test_account("Alice").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 33 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT10%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: sp.unit
     amount: sp.tez(0)
     to:     sp.contract(sp.TUnit, sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 100 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 33 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 100))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Executing (queue) setAccountLiquidity(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 42 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_107_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_107_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_107_cont_2_params.json 1
Executing borrowAllowed(sp.record(cToken = sp.address('KT10'), borrower = sp.to_constant(sp.test_account("Alice").address), borrowAmount = 100))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 42 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h4: on the not listed market
 => ../TezFinTest/Comptroller_Tests/step_109_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_109_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_109_cont_2_params.json 1
Executing borrowAllowed(sp.record(cToken = sp.address('KT11'), borrower = sp.to_constant(sp.test_account("Alice").address), borrowAmount = 100))...
 -> --- Expected failure in transaction --- Wrong condition: (~ self.data.markets[params.cToken].borrowPaused : sp.TBool) (contracts/Comptroller.py, line 193)
Message: 'CMPT_BORROW_PAUSED'
 (contracts/Comptroller.py, line 193)
Comment...
 h4: with insufficient liquidity
 => ../TezFinTest/Comptroller_Tests/step_111_cont_3_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_111_cont_3_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_111_cont_3_params.json 7
Executing setAccountSnapshot(sp.record(account = sp.to_constant(sp.test_account("Alice").address), borrowBalance = 100, cTokenBalance = 0, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100) (Pair 0 1000000000000000000)))
 => ../TezFinTest/Comptroller_Tests/step_112_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_112_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_112_cont_2_params.json 1
Executing updateAccountLiquidity(sp.to_constant(sp.test_account("Alice").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 42 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT10%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: sp.unit
     amount: sp.tez(0)
     to:     sp.contract(sp.TUnit, sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100) (Pair 0 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 100, cTokenBalance = 0, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 100, cTokenBalance = 0, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 42 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 100 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Executing (queue) setAccountLiquidity(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair -100 (Pair 43 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_113_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_113_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_113_cont_2_params.json 1
Executing borrowAllowed(sp.record(cToken = sp.address('KT10'), borrower = sp.to_constant(sp.test_account("Alice").address), borrowAmount = 100))...
 -> --- Expected failure in transaction --- Wrong condition: (compute_Comptroller_174.value >= 0 : sp.TBool) (contracts/Comptroller.py, line 175)
Message: 'CMPT_REDEEMER_SHORTFALL'
 (contracts/Comptroller.py, line 175)
Comment...
 h4: without insufficient liquidity
 => ../TezFinTest/Comptroller_Tests/step_115_cont_3_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_115_cont_3_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_115_cont_3_params.json 7
Executing setAccountSnapshot(sp.record(account = sp.to_constant(sp.test_account("Alice").address), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 100 1000000000000000000)))
 => ../TezFinTest/Comptroller_Tests/step_116_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_116_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_116_cont_2_params.json 1
Executing updateAccountLiquidity(sp.to_constant(sp.test_account("Alice").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair -100 (Pair 43 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT10%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: sp.unit
     amount: sp.tez(0)
     to:     sp.contract(sp.TUnit, sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 100 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair -100 (Pair 43 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 100))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Executing (queue) setAccountLiquidity(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_117_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_117_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_117_cont_2_params.json 1
Executing borrowAllowed(sp.record(cToken = sp.address('KT10'), borrower = sp.to_constant(sp.test_account("Alice").address), borrowAmount = 100))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h4: with price errors
 => ../TezFinTest/Comptroller_Tests/step_119_cont_1_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_119_cont_1_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_119_cont_1_params.json 1
Executing setPrice(0)...
 -> 0
 => ../TezFinTest/Comptroller_Tests/step_120_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_120_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_120_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT10'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 40)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 0
  + Transfer
     params: ('m1', (sp.timestamp(0), 0))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m1', (sp.timestamp(0), 0)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 45)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_121_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_121_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_121_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT11'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 45)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 40)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 0
  + Transfer
     params: ('m2', (sp.timestamp(0), 0))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m2', (sp.timestamp(0), 0)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 45)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 45)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_122_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_122_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_122_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT12'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 45)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 45)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 40)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 0
  + Transfer
     params: ('m3', (sp.timestamp(0), 0))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m3', (sp.timestamp(0), 0)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 45)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 45)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 45)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_123_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_123_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_123_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 45)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 45)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 45)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 40))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 0
  + Transfer
     params: ('m4', (sp.timestamp(0), 0))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m4', (sp.timestamp(0), 0)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 45)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 45)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 45)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 45))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_124_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_124_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_124_cont_2_params.json 1
Executing updateAccountLiquidity(sp.to_constant(sp.test_account("Alice").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 45)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 45)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 45)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 45))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT10%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: sp.unit
     amount: sp.tez(0)
     to:     sp.contract(sp.TUnit, sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 100 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000))...
Executing (queue) setAccountLiquidity(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 0 (Pair 46 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 45)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 45)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 45)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 45))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 -> --- Expected failure in transaction --- Wrong condition: (self.data.markets[sp.sender].price.mantissa > 0 : sp.TBool) (contracts/Comptroller.py, line 205)
Message: 'CMPT_INVALID_PRICE'
 (contracts/Comptroller.py, line 205)
 => ../TezFinTest/Comptroller_Tests/step_125_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_125_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_125_cont_2_params.json 1
Executing borrowAllowed(sp.record(cToken = sp.address('KT10'), borrower = sp.to_constant(sp.test_account("Alice").address), borrowAmount = 100))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.account_liquidity[params.borrower].valid : sp.TBool) (contracts/Comptroller.py, line 624)
Message: 'CMPT_LIQUIDITY_INVALID'
 (contracts/Comptroller.py, line 624)
Comment...
 h4: without price errors
 => ../TezFinTest/Comptroller_Tests/step_127_cont_1_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_127_cont_1_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_127_cont_1_params.json 1
Executing setPrice(1)...
 -> 1
 => ../TezFinTest/Comptroller_Tests/step_128_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_128_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_128_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT10'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 0 45)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 45)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 45)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 45))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m1', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m1', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 45)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 45)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 45))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_129_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_129_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_129_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT11'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 0 45)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 45)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 45))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m2', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m2', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 45)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 45))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_130_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_130_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_130_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT12'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 0 45)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 45))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m3', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m3', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 45))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_131_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_131_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_131_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 0 45))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m4', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m4', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_132_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_132_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_132_cont_2_params.json 1
Executing updateAccountLiquidity(sp.to_constant(sp.test_account("Alice").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT10%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: sp.unit
     amount: sp.tez(0)
     to:     sp.contract(sp.TUnit, sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 100 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 44 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 100))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Executing (queue) setAccountLiquidity(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 48 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_133_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_133_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_133_cont_2_params.json 1
Executing borrowAllowed(sp.record(cToken = sp.address('KT10'), borrower = sp.to_constant(sp.test_account("Alice").address), borrowAmount = 100))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 48 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h4: borrow is paused
 => ../TezFinTest/Comptroller_Tests/step_135_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_135_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_135_cont_2_params.json 1
Executing setBorrowPaused(sp.record(cToken = sp.address('KT10'), state = True))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 48 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_136_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_136_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_136_cont_2_params.json 1
Executing updateAccountLiquidity(sp.to_constant(sp.test_account("Alice").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 48 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT10%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: sp.unit
     amount: sp.tez(0)
     to:     sp.contract(sp.TUnit, sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 100 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 48 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 100))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Executing (queue) setAccountLiquidity(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_137_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_137_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_137_cont_2_params.json 1
Executing borrowAllowed(sp.record(cToken = sp.address('KT10'), borrower = sp.to_constant(sp.test_account("Alice").address), borrowAmount = 100))...
 -> --- Expected failure in transaction --- Wrong condition: (~ self.data.markets[params.cToken].borrowPaused : sp.TBool) (contracts/Comptroller.py, line 193)
Message: 'CMPT_BORROW_PAUSED'
 (contracts/Comptroller.py, line 193)
Comment...
 h4: borrow is not paused
 => ../TezFinTest/Comptroller_Tests/step_139_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_139_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_139_cont_2_params.json 1
Executing setBorrowPaused(sp.record(cToken = sp.address('KT10'), state = False))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_140_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_140_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_140_cont_2_params.json 1
Executing borrowAllowed(sp.record(cToken = sp.address('KT10'), borrower = sp.to_constant(sp.test_account("Alice").address), borrowAmount = 100))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h4: alice calls borrowAllowed if borrower not in market
 => ../TezFinTest/Comptroller_Tests/step_142_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_142_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_142_cont_2_params.json 1
Executing updateAccountLiquidity(sp.to_constant(sp.test_account("Hasn't accountMembership").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX") (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: sp.unit
     amount: sp.tez(0)
     to:     sp.contract(sp.TUnit, sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountLiquidity')).open_some()
Executing (queue) setAccountLiquidity(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 True))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_143_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_143_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_143_cont_2_params.json 1
Executing borrowAllowed(sp.record(cToken = sp.address('KT10'), borrower = sp.to_constant(sp.test_account("Hasn't accountMembership").address), borrowAmount = 0))...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == params.cToken : sp.TBool) (contracts/Comptroller.py, line 198)
Message: 'CMPT_INVALID_BORROW_SENDER'
 (contracts/Comptroller.py, line 198)
Comment...
 h4: cToken calls borrowAllowed if borrower not in market
 => ../TezFinTest/Comptroller_Tests/step_145_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_145_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_145_cont_2_params.json 1
Executing borrowAllowed(sp.record(cToken = sp.address('KT10'), borrower = sp.to_constant(sp.test_account("Hasn't accountMembership").address), borrowAmount = 0))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h4: invalid after price was not updated for 5 blocks
 => ../TezFinTest/Comptroller_Tests/step_147_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_147_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_147_cont_2_params.json 1
Executing borrowAllowed(sp.record(cToken = sp.address('KT10'), borrower = sp.to_constant(sp.test_account("Alice").address), borrowAmount = 100))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.account_liquidity[params.borrower].valid : sp.TBool) (contracts/Comptroller.py, line 624)
Message: 'CMPT_LIQUIDITY_INVALID'
 (contracts/Comptroller.py, line 624)
Comment...
 h3: Repay borrow allowed
Comment...
 h4: on the listed market
 => ../TezFinTest/Comptroller_Tests/step_150_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_150_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_150_cont_2_params.json 10
Executing repayBorrowAllowed(sp.record(cToken = sp.address('KT10'), payer = sp.to_constant(sp.test_account("admin").address), borrower = sp.to_constant(sp.test_account("Alice").address), repayAmount = 100))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h4: on the not listed market
 => ../TezFinTest/Comptroller_Tests/step_152_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_152_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_152_cont_2_params.json 10
Executing repayBorrowAllowed(sp.record(cToken = sp.address('KT11'), payer = sp.to_constant(sp.test_account("admin").address), borrower = sp.to_constant(sp.test_account("Alice").address), repayAmount = 100))...
 -> --- Expected failure in transaction --- Wrong condition: ((self.data.markets.contains(params.cToken)) & self.data.markets[params.cToken].isListed : sp.TBool) (contracts/Comptroller.py, line 611)
Message: 'CMPT_MARKET_NOT_LISTED'
 (contracts/Comptroller.py, line 611)
Comment...
 h3: Transfer allowed
Comment...
 h4: redeem is allowed, without updated price
 => ../TezFinTest/Comptroller_Tests/step_155_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_155_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_155_cont_2_params.json 7
Executing transferAllowed(sp.record(cToken = sp.address('KT10'), src = sp.to_constant(sp.test_account("admin").address), dst = sp.to_constant(sp.test_account("Alice").address), transferTokens = 100))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.account_liquidity.contains(params.src) : sp.TBool) (contracts/Comptroller.py, line 623)
Message: 'CMPT_LIQUIDITY_ABSENT'
 (contracts/Comptroller.py, line 623)
Comment...
 h4: redeem is allowed, with updated price, without updated liquidity
 => ../TezFinTest/Comptroller_Tests/step_157_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_157_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_157_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT10'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 47)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m1', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m1', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_158_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_158_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_158_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT11'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 47)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m2', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m2', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_159_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_159_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_159_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT12'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 47)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m3', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m3', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_160_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_160_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_160_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 47))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m4', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m4', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_161_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_161_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_161_cont_2_params.json 7
Executing transferAllowed(sp.record(cToken = sp.address('KT10'), src = sp.to_constant(sp.test_account("admin").address), dst = sp.to_constant(sp.test_account("Alice").address), transferTokens = 100))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.account_liquidity.contains(params.src) : sp.TBool) (contracts/Comptroller.py, line 623)
Message: 'CMPT_LIQUIDITY_ABSENT'
 (contracts/Comptroller.py, line 623)
Comment...
 h4: redeem is allowed, with updated price and updated liquidity
 => ../TezFinTest/Comptroller_Tests/step_163_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_163_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_163_cont_2_params.json 1
Executing updateAccountLiquidity(sp.to_constant(sp.test_account("admin").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5") (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT10%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.address('tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: sp.unit
     amount: sp.tez(0)
     to:     sp.contract(sp.TUnit, sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 100 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5") (Pair 0 None)) (Pair 0 (Pair 0 100))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Executing (queue) setAccountLiquidity(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 61 True)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_164_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_164_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_164_cont_2_params.json 7
Executing transferAllowed(sp.record(cToken = sp.address('KT10'), src = sp.to_constant(sp.test_account("admin").address), dst = sp.to_constant(sp.test_account("Alice").address), transferTokens = 100))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 61 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h4: redeem is not allowed
 => ../TezFinTest/Comptroller_Tests/step_166_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_166_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_166_cont_2_params.json 7
Executing transferAllowed(sp.record(cToken = sp.address('KT11'), src = sp.to_constant(sp.test_account("admin").address), dst = sp.to_constant(sp.test_account("Alice").address), transferTokens = 100))...
 -> --- Expected failure in transaction --- Wrong condition: ((self.data.markets.contains(params.cToken)) & self.data.markets[params.cToken].isListed : sp.TBool) (contracts/Comptroller.py, line 611)
Message: 'CMPT_MARKET_NOT_LISTED'
 (contracts/Comptroller.py, line 611)
Comment...
 h4: transfer is paused
 => ../TezFinTest/Comptroller_Tests/step_168_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_168_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_168_cont_2_params.json 1
Executing setTransferPaused(True)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 61 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
 => ../TezFinTest/Comptroller_Tests/step_169_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_169_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_169_cont_2_params.json 1
Executing updateAccountLiquidity(sp.to_constant(sp.test_account("admin").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 61 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5") (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
  + Transfer
     params: (sp.address('tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT10%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.address('tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: sp.unit
     amount: sp.tez(0)
     to:     sp.contract(sp.TUnit, sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 100 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 61 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5") (Pair 0 None)) (Pair 0 (Pair 0 100))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
Executing (queue) setAccountLiquidity(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 True)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 True))))
 => ../TezFinTest/Comptroller_Tests/step_170_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_170_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_170_cont_2_params.json 7
Executing transferAllowed(sp.record(cToken = sp.address('KT10'), src = sp.to_constant(sp.test_account("admin").address), dst = sp.to_constant(sp.test_account("Alice").address), transferTokens = 100))...
 -> --- Expected failure in transaction --- Wrong condition: (~ self.data.transferPaused : sp.TBool) (contracts/Comptroller.py, line 241)
Message: 'CMPT_TRANSFER_PAUSED'
 (contracts/Comptroller.py, line 241)
Comment...
 h4: transfer is not paused
 => ../TezFinTest/Comptroller_Tests/step_172_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_172_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_172_cont_2_params.json 1
Executing setTransferPaused(False)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 True)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_173_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_173_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_173_cont_2_params.json 7
Executing transferAllowed(sp.record(cToken = sp.address('KT10'), src = sp.to_constant(sp.test_account("admin").address), dst = sp.to_constant(sp.test_account("Alice").address), transferTokens = 100))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h4: invalid after price was not updated for 5 blocks
 => ../TezFinTest/Comptroller_Tests/step_175_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_175_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_175_cont_2_params.json 7
Executing transferAllowed(sp.record(cToken = sp.address('KT10'), src = sp.to_constant(sp.test_account("admin").address), dst = sp.to_constant(sp.test_account("Alice").address), transferTokens = 100))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.account_liquidity[params.src].valid : sp.TBool) (contracts/Comptroller.py, line 624)
Message: 'CMPT_LIQUIDITY_INVALID'
 (contracts/Comptroller.py, line 624)
Comment...
 h2: Test markets
Comment...
 h3: Enter market
Comment...
 h4: on the listed market
 => ../TezFinTest/Comptroller_Tests/step_179_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_179_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_179_cont_2_params.json 1
Executing enterMarkets(sp.list([sp.address('KT12')]))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h4: on the not listed market
 => ../TezFinTest/Comptroller_Tests/step_181_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_181_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_181_cont_2_params.json 1
Executing enterMarkets(sp.list([sp.address('KT11')]))...
 -> --- Expected failure in transaction --- Wrong condition: ((self.data.markets.contains(token)) & self.data.markets[token].isListed : sp.TBool) (contracts/Comptroller.py, line 611)
Message: 'CMPT_MARKET_NOT_LISTED'
 (contracts/Comptroller.py, line 611)
Comment...
 h4: account membership is already joined
 => ../TezFinTest/Comptroller_Tests/step_183_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_183_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_183_cont_2_params.json 1
Executing enterMarkets(sp.list([sp.address('KT12')]))...
 -> --- Expected failure in transaction --- Wrong condition: (~ ((self.data.markets[token].accountMembership.contains(sp.sender)) & self.data.markets[token].accountMembership[sp.sender]) : sp.TBool) (contracts/Comptroller.py, line 80)
Message: 'CMPT_MARKET_JOINED'
 (contracts/Comptroller.py, line 80)
Comment...
 h4: account membership is not joined
 => ../TezFinTest/Comptroller_Tests/step_185_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_185_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_185_cont_2_params.json 1
Executing enterMarkets(sp.list([sp.address('KT12')]))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h3: Exit market
Comment...
 h4: The sender hasn't borrow balance, asset price was not updated
 => ../TezFinTest/Comptroller_Tests/step_188_cont_3_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_188_cont_3_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_188_cont_3_params.json 7
Executing setAccountSnapshot(sp.record(account = sp.to_constant(sp.test_account("Alice").address), borrowBalance = 0, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 10 1000000000000000000)))
 => ../TezFinTest/Comptroller_Tests/step_189_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_189_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_189_cont_2_params.json 1
Executing exitMarket(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountSnapAndExitMarket')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountSnapAndExitMarket')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 10 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountSnapAndExitMarket')).open_some()
Executing (queue) setAccountSnapAndExitMarket(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.account_liquidity[params.account].valid : sp.TBool) (contracts/Comptroller.py, line 624)
Message: 'CMPT_LIQUIDITY_INVALID'
 (contracts/Comptroller.py, line 624)
Comment...
 h4: The sender hasn't borrow balance, asset price was updated, without updated liquidity
 => ../TezFinTest/Comptroller_Tests/step_191_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_191_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_191_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT10'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 59)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m1', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m1', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_192_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_192_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_192_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT11'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 59)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m2', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m2', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_193_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_193_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_193_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT12'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 59)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m3', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m3', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_194_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_194_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_194_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 59))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m4', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m4', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_195_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_195_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_195_cont_2_params.json 1
Executing exitMarket(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountSnapAndExitMarket')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountSnapAndExitMarket')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 10 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountSnapAndExitMarket')).open_some()
Executing (queue) setAccountSnapAndExitMarket(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.account_liquidity[params.account].valid : sp.TBool) (contracts/Comptroller.py, line 624)
Message: 'CMPT_LIQUIDITY_INVALID'
 (contracts/Comptroller.py, line 624)
Comment...
 h4: The sender hasn't borrow balance, asset price was updated and updated liquidity
 => ../TezFinTest/Comptroller_Tests/step_197_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_197_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_197_cont_2_params.json 1
Executing updateAccountLiquidity(sp.to_constant(sp.test_account("Alice").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT10%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT12%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: sp.unit
     amount: sp.tez(0)
     to:     sp.contract(sp.TUnit, sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 10 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 100 (Pair 49 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi") (Pair 0 None)) (Pair 0 (Pair 0 10))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Executing (queue) setAccountLiquidity(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 True)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_198_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_198_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_198_cont_2_params.json 1
Executing exitMarket(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 True)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountSnapAndExitMarket')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountSnapAndExitMarket')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 0) (Pair 10 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountSnapAndExitMarket')).open_some()
Executing (queue) setAccountSnapAndExitMarket(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 0, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Verifying ~ (sp.contract_data(2).markets[sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC')].accountMembership.contains(sp.to_constant(sp.test_account("Alice").address)))...
 OK
Verifying ~ (sp.contract_data(2).account_assets[sp.to_constant(sp.test_account("Alice").address)].contains(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC')))...
 OK
Comment...
 h4: The sender has borrow balance
 => ../TezFinTest/Comptroller_Tests/step_202_cont_3_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_202_cont_3_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_202_cont_3_params.json 7
Executing setAccountSnapshot(sp.record(account = sp.to_constant(sp.test_account("Alice").address), borrowBalance = 100, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100) (Pair 10 1000000000000000000)))
 => ../TezFinTest/Comptroller_Tests/step_203_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_203_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_203_cont_2_params.json 1
Executing exitMarket(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountSnapAndExitMarket')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountSnapAndExitMarket')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" 100) (Pair 10 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 100, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAccountSnapAndExitMarket')).open_some()
Executing (queue) setAccountSnapAndExitMarket(sp.record(account = sp.address('tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi'), borrowBalance = 100, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000))...
 -> --- Expected failure in transaction --- Wrong condition: (params.borrowBalance == 0 : sp.TBool) (contracts/Comptroller.py, line 117)
Message: 'CMPT_BORROW_IN_MARKET'
 (contracts/Comptroller.py, line 117)
Comment...
 h2: Test updateAssetPrice
Comment...
 h3: Update price
 => ../TezFinTest/Comptroller_Tests/step_206_cont_1_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_206_cont_1_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_206_cont_1_params.json 1
Executing setPrice(2)...
 -> 2
 => ../TezFinTest/Comptroller_Tests/step_207_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_207_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_207_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT10'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 74)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 2
  + Transfer
     params: ('m1', (sp.timestamp(0), 2))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m1', (sp.timestamp(0), 2)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 2000000000000000000 77)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Verifying sp.pack(sp.set_type_expr(sp.contract_data(2).markets[sp.address('KT10')].price.mantissa, sp.TNat)) == sp.pack(sp.set_type_expr(2000000000000000000, sp.TNat))...
 OK
Verifying sp.pack(sp.set_type_expr(sp.contract_data(2).markets[sp.address('KT10')].updateLevel, sp.TNat)) == sp.pack(sp.set_type_expr(77, sp.TNat))...
 OK
Comment...
 h3: Try to update price at the same level
 => ../TezFinTest/Comptroller_Tests/step_211_cont_1_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_211_cont_1_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_211_cont_1_params.json 1
Executing setPrice(1)...
 -> 1
 => ../TezFinTest/Comptroller_Tests/step_212_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_212_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_212_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT10'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 2000000000000000000 77)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Verifying sp.pack(sp.set_type_expr(sp.contract_data(2).markets[sp.address('KT10')].price.mantissa, sp.TNat)) == sp.pack(sp.set_type_expr(2000000000000000000, sp.TNat))...
 OK
Comment...
 h3: Try set price directly
 => ../TezFinTest/Comptroller_Tests/step_215_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_215_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_215_cont_2_params.json 1
Executing setAssetPrice(('m1', (sp.timestamp(0), 12)))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.activeOperations.contains(2) : sp.TBool) (contracts/utils/OperationProtector.py, line 38)
Message: 'OP_NOT_ACTIVE'
 (contracts/utils/OperationProtector.py, line 38)
Comment...
 h2: Test account liquidity
 => ../TezFinTest/Comptroller_Tests/step_217_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_217_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_217_cont_2_params.json 1
Executing enterMarkets(sp.list([sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC')]))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 2000000000000000000 77)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Comment...
 h3: Get current liquidity, without updated price
 => ../TezFinTest/Comptroller_Tests/step_219_cont_3_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_219_cont_3_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_219_cont_3_params.json 7
Executing setAccountSnapshot(sp.record(account = sp.to_constant(sp.test_account("Bob").address), borrowBalance = 100, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair "KT10" (Pair (Pair "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" 100) (Pair 10 1000000000000000000)))
 => ../TezFinTest/Comptroller_Tests/step_220_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_220_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_220_cont_2_params.json 13
Executing getHypoAccountLiquidity(sp.record(callback = sp.contract_typed(KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt), data = sp.record(account = sp.to_constant(sp.test_account("Bob").address), cTokenModify = sp.address('KT12'), redeemTokens = 0, borrowAmount = 0)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C") (Pair 0 (Some "KT12"))) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 2000000000000000000 77)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.unit, sp.contract(sp.TInt, sp.address('KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TUnit, sp.TContract(sp.TInt)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%returnHypoAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" 100) (Pair 10 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), borrowBalance = 100, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), borrowBalance = 100, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000))...
Executing (queue) returnHypoAccountLiquidity((sp.unit, sp.contract(sp.TInt, sp.address('KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt')).open_some()))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 2000000000000000000 77)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: 0
     amount: sp.tez(0)
     to:     sp.contract(sp.TInt, sp.address('KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt')).open_some()
Executing (queue) targetInt(0)...
 -> (Some 0)
 -> --- Expected failure in transaction --- Wrong condition: (compute_Comptroller_270.value < self.data.pricePeriodRelevance : sp.TBool) (contracts/Comptroller.py, line 271)
Message: 'CMPT_UPDATE_PRICE'
 (contracts/Comptroller.py, line 271)
Comment...
 h3: Get current liquidity, with updated price
 => ../TezFinTest/Comptroller_Tests/step_222_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_222_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_222_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT10'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 2000000000000000000 77)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m1', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m1', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 81)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_223_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_223_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_223_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT11'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 81)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 74)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m2', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m2', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 81)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 81)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_224_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_224_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_224_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT12'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 81)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 81)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 74)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m3', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m3', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 81)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 81)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 81)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_225_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_225_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_225_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 2; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 81)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 81)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 81)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 74))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m4', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m4', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 81)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 81)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 81)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 81))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_226_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_226_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_226_cont_2_params.json 13
Executing getHypoAccountLiquidity(sp.record(callback = sp.contract_typed(KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt), data = sp.record(account = sp.to_constant(sp.test_account("Bob").address), cTokenModify = sp.address('KT12'), redeemTokens = 0, borrowAmount = 0)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C") (Pair 0 (Some "KT12"))) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 81)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 81)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 81)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 81))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.unit, sp.contract(sp.TInt, sp.address('KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TUnit, sp.TContract(sp.TInt)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%returnHypoAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" 100) (Pair 10 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), borrowBalance = 100, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), borrowBalance = 100, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C") (Pair 0 (Some "KT12"))) (Pair 0 (Pair 100 10))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 81)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 81)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 81)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 81))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Executing (queue) returnHypoAccountLiquidity((sp.unit, sp.contract(sp.TInt, sp.address('KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt')).open_some()))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 81)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 81)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 81)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 81))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: -90
     amount: sp.tez(0)
     to:     sp.contract(sp.TInt, sp.address('KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt')).open_some()
Executing (queue) targetInt(-90)...
 -> (Some -90)
Verifying sp.pack(sp.set_type_expr(sp.contract_data(0).last, sp.TOption(sp.TInt))) == sp.pack(sp.set_type_expr(sp.some(-90), sp.TOption(sp.TInt)))...
 OK
Comment...
 h3: Get liquidity with redeem
 => ../TezFinTest/Comptroller_Tests/step_229_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_229_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_229_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT10'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 2} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 81)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 81)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 81)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 81))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m1', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m1', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 83)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 81)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 81)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 81))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_230_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_230_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_230_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT11'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 2} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 83)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 81)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 81)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 81))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m2', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m2', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 83)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 83)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 81)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 81))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_231_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_231_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_231_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT12'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 2} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 83)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 83)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 81)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 81))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m3', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m3', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 83)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 83)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 83)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 81))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_232_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_232_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_232_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 2} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 83)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 83)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 83)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 81))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m4', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m4', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 83)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 83)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 83)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 83))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_233_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_233_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_233_cont_2_params.json 13
Executing getHypoAccountLiquidity(sp.record(callback = sp.contract_typed(KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt), data = sp.record(account = sp.to_constant(sp.test_account("Bob").address), cTokenModify = sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'), redeemTokens = 20, borrowAmount = 0)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C") (Pair 0 (Some "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"))) (Pair 20 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 83)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 83)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 83)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 83))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.unit, sp.contract(sp.TInt, sp.address('KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TUnit, sp.TContract(sp.TInt)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%returnHypoAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" 100) (Pair 10 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), borrowBalance = 100, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), borrowBalance = 100, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C") (Pair 0 (Some "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"))) (Pair 20 (Pair 100 30))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 83)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 83)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 83)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 83))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Executing (queue) returnHypoAccountLiquidity((sp.unit, sp.contract(sp.TInt, sp.address('KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt')).open_some()))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 83)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 83)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 83)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 83))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: -70
     amount: sp.tez(0)
     to:     sp.contract(sp.TInt, sp.address('KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt')).open_some()
Executing (queue) targetInt(-70)...
 -> (Some -70)
Verifying sp.pack(sp.set_type_expr(sp.contract_data(0).last, sp.TOption(sp.TInt))) == sp.pack(sp.set_type_expr(sp.some(-70), sp.TOption(sp.TInt)))...
 OK
Comment...
 h3: Get liquidity with borrow
 => ../TezFinTest/Comptroller_Tests/step_236_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_236_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_236_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT10'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 2} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 83)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 83)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 83)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 83))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m1', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m1', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m1', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 83)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 83)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 83))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_237_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_237_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_237_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT11'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 2} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 83)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 83)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 83))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m2', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m2', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m2', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 83)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 83))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_238_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_238_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_238_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT12'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 2} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 83)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 83))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m3', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m3', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m3', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 83))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_239_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_239_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_239_cont_2_params.json 1
Executing updateAssetPrice(sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 2} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 83))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: ('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TContract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)))), sp.address('KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF%get')).open_some()
Executing (queue) get(('m4', sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()))...
 -> 1
  + Transfer
     params: ('m4', (sp.timestamp(0), 1))
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TString, sp.TPair(sp.TTimestamp, sp.TNat)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%setAssetPrice')).open_some()
Executing (queue) setAssetPrice(('m4', (sp.timestamp(0), 1)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_240_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_240_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_240_cont_2_params.json 13
Executing getHypoAccountLiquidity(sp.record(callback = sp.contract_typed(KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt), data = sp.record(account = sp.to_constant(sp.test_account("Bob").address), cTokenModify = sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC'), redeemTokens = 0, borrowAmount = 20)))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C") (Pair 20 (Some "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"))) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: (sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TAddress, sp.TContract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))))), sp.address('KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC%getAccountSnapshot')).open_some()
  + Transfer
     params: (sp.unit, sp.contract(sp.TInt, sp.address('KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt')).open_some())
     amount: sp.tez(0)
     to:     sp.contract(sp.TPair(sp.TUnit, sp.TContract(sp.TInt)), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%returnHypoAccountLiquidity')).open_some()
Executing (queue) getAccountSnapshot((sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()))...
 -> (Pair "KT10" (Pair (Pair "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" 100) (Pair 10 1000000000000000000)))
  + Transfer
     params: sp.record(account = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), borrowBalance = 100, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000)
     amount: sp.tez(0)
     to:     sp.contract(sp.TRecord(account = sp.TAddress, borrowBalance = sp.TNat, cTokenBalance = sp.TNat, exchangeRateMantissa = sp.TNat).layout((("account", "borrowBalance"), ("cTokenBalance", "exchangeRateMantissa"))), sp.address('KT1Tezooo2zzSmartPyzzSTATiCzzzwqqQ4H%calculateAccountAssetLiquidity')).open_some()
Executing (queue) calculateAccountAssetLiquidity(sp.record(account = sp.address('tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C'), borrowBalance = 100, cTokenBalance = 10, exchangeRateMantissa = 1000000000000000000))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1; 3} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair (Some "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C") (Pair 20 (Some "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"))) (Pair 0 (Pair 120 10))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
Executing (queue) returnHypoAccountLiquidity((sp.unit, sp.contract(sp.TInt, sp.address('KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt')).open_some()))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85))))})) (Pair (Pair "KT1Tezooo1zzSmartPyzzSTATiCzzzyfC8eF" None) (Pair 5 False))))
  + Transfer
     params: -110
     amount: sp.tez(0)
     to:     sp.contract(sp.TInt, sp.address('KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt')).open_some()
Executing (queue) targetInt(-110)...
 -> (Some -110)
Verifying sp.pack(sp.set_type_expr(sp.contract_data(0).last, sp.TOption(sp.TInt))) == sp.pack(sp.set_type_expr(sp.some(-110), sp.TOption(sp.TInt)))...
 OK
Comment...
 h3: Try return liquidity directly
 => ../TezFinTest/Comptroller_Tests/step_243_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_243_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_243_cont_2_params.json 1
Executing returnHypoAccountLiquidity((sp.unit, sp.contract_typed(KT1TezoooozzSmartPyzzSTATiCzzzwwBFA1%targetInt)))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.activeOperations.contains(3) : sp.TBool) (contracts/utils/OperationProtector.py, line 38)
Message: 'OP_NOT_ACTIVE'
 (contracts/utils/OperationProtector.py, line 38)
Comment...
 h3: Try calculate liquidity directly
 => ../TezFinTest/Comptroller_Tests/step_245_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_245_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_245_cont_2_params.json 7
Executing calculateAccountAssetLiquidity(sp.record(account = sp.to_constant(sp.test_account("Bob").address), borrowBalance = 10, cTokenBalance = 100, exchangeRateMantissa = 1000000000000000000))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.activeOperations.contains(3) : sp.TBool) (contracts/utils/OperationProtector.py, line 38)
Message: 'OP_NOT_ACTIVE'
 (contracts/utils/OperationProtector.py, line 38)
Comment...
 h2: Test admin functionality
Comment...
 h3: Set price oracle
Comment...
 h4: Common user attempts to set price oracle
 => ../TezFinTest/Comptroller_Tests/step_249_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_249_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_249_cont_2_params.json 1
Executing setPriceOracle(sp.address('KT10'))...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to set price oracle
 => ../TezFinTest/Comptroller_Tests/step_251_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_251_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_251_cont_2_params.json 1
Executing setPriceOracle(sp.address('KT10'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 0) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85))))})) (Pair (Pair "KT10" None) (Pair 5 False))))
Verifying sp.contract_data(2).oracleAddress == sp.address('KT10')...
 OK
Comment...
 h3: Set close factor
Comment...
 h4: Common user attempts to set close factor
 => ../TezFinTest/Comptroller_Tests/step_255_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_255_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_255_cont_2_params.json 1
Executing setCloseFactor(1)...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to set close factor
 => ../TezFinTest/Comptroller_Tests/step_257_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_257_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_257_cont_2_params.json 1
Executing setCloseFactor(1)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 1) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 0 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85))))})) (Pair (Pair "KT10" None) (Pair 5 False))))
Verifying sp.contract_data(2).closeFactorMantissa == 1...
 OK
Comment...
 h3: Set liquidation incentive
Comment...
 h4: Common user attempts to set liquidation incentive
 => ../TezFinTest/Comptroller_Tests/step_261_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_261_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_261_cont_2_params.json 1
Executing setLiquidationIncentive(1)...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to set liquidation incentive
 => ../TezFinTest/Comptroller_Tests/step_263_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_263_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_263_cont_2_params.json 1
Executing setLiquidationIncentive(1)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 1) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 1 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 1000000000000000000)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85))))})) (Pair (Pair "KT10" None) (Pair 5 False))))
Verifying sp.contract_data(2).liquidationIncentiveMantissa == 1...
 OK
Comment...
 h3: Set collateral factor
Comment...
 h4: Common user attempts to set collateral factor
 => ../TezFinTest/Comptroller_Tests/step_267_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_267_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_267_cont_2_params.json 1
Executing setCollateralFactor(sp.record(cToken = sp.address('KT10'), newCollateralFactor = 2))...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to set collateral factor
 => ../TezFinTest/Comptroller_Tests/step_269_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_269_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_269_cont_2_params.json 1
Executing setCollateralFactor(sp.record(cToken = sp.address('KT10'), newCollateralFactor = 2))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 1) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 1 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 2)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85))))})) (Pair (Pair "KT10" None) (Pair 5 False))))
Verifying sp.contract_data(2).markets[sp.address('KT10')].collateralFactor.mantissa == 2...
 OK
Comment...
 h4: Not listed market
 => ../TezFinTest/Comptroller_Tests/step_272_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_272_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_272_cont_2_params.json 1
Executing setCollateralFactor(sp.record(cToken = sp.to_constant(sp.test_account("[setCollateralFactor] not listed market").address), newCollateralFactor = 2))...
 -> --- Expected failure in transaction --- Wrong condition: ((self.data.markets.contains(params.cToken)) & self.data.markets[params.cToken].isListed : sp.TBool) (contracts/Comptroller.py, line 611)
Message: 'CMPT_MARKET_NOT_LISTED'
 (contracts/Comptroller.py, line 611)
Comment...
 h3: Support market
Comment...
 h4: Common user attempts to support market
 => ../TezFinTest/Comptroller_Tests/step_275_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_275_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_275_cont_2_params.json 1
Executing supportMarket(sp.record(cToken = sp.to_constant(sp.test_account("[supportMarket] new market").address), name = 'market'))...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to support market
 => ../TezFinTest/Comptroller_Tests/step_277_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_277_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_277_cont_2_params.json 1
Executing supportMarket(sp.record(cToken = sp.to_constant(sp.test_account("[supportMarket] new market").address), name = 'market'))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 1) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 1 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"; Elt "market" "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 2)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85)))); Elt "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb" (Pair (Pair (Pair {} 0) (Pair True 900000000000000000)) (Pair (Pair True True) (Pair "market" (Pair 0 0))))})) (Pair (Pair "KT10" None) (Pair 5 False))))
Verifying (sp.contract_data(2).markets.contains(sp.to_constant(sp.test_account("[supportMarket] new market").address))) & sp.contract_data(2).markets[sp.to_constant(sp.test_account("[supportMarket] new market").address)].isListed...
 OK
Verifying sp.contract_data(2).marketNameToAddress.contains('market')...
 OK
Comment...
 h4: Already listed market
 => ../TezFinTest/Comptroller_Tests/step_281_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_281_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_281_cont_2_params.json 1
Executing supportMarket(sp.record(cToken = sp.to_constant(sp.test_account("[supportMarket] new market").address), name = 'market'))...
 -> --- Expected failure in transaction --- Wrong condition: (~ ((self.data.markets.contains(params.cToken)) & self.data.markets[params.cToken].isListed) : sp.TBool) (contracts/Comptroller.py, line 614)
Message: 'CMPT_MARKET_ALREADY_LISTED'
 (contracts/Comptroller.py, line 614)
Comment...
 h3: Disable market
Comment...
 h4: Common user attempts to disable market
 => ../TezFinTest/Comptroller_Tests/step_284_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_284_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_284_cont_2_params.json 1
Executing disableMarket(sp.to_constant(sp.test_account("[supportMarket] new market").address))...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to disable market
 => ../TezFinTest/Comptroller_Tests/step_286_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_286_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_286_cont_2_params.json 1
Executing disableMarket(sp.to_constant(sp.test_account("[supportMarket] new market").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 1) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 1 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"; Elt "market" "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 2)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85)))); Elt "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb" (Pair (Pair (Pair {} 0) (Pair True 900000000000000000)) (Pair (Pair False True) (Pair "market" (Pair 0 0))))})) (Pair (Pair "KT10" None) (Pair 5 False))))
Verifying (sp.contract_data(2).markets.contains(sp.to_constant(sp.test_account("[supportMarket] new market").address))) & (~ sp.contract_data(2).markets[sp.to_constant(sp.test_account("[supportMarket] new market").address)].isListed)...
 OK
Comment...
 h4: Not listed market
 => ../TezFinTest/Comptroller_Tests/step_289_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_289_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_289_cont_2_params.json 1
Executing disableMarket(sp.to_constant(sp.test_account("[disableMarket] not listed market").address))...
 -> --- Expected failure in transaction --- Wrong condition: ((self.data.markets.contains(params)) & self.data.markets[params].isListed : sp.TBool) (contracts/Comptroller.py, line 611)
Message: 'CMPT_MARKET_NOT_LISTED'
 (contracts/Comptroller.py, line 611)
Comment...
 h3: Set market borrow cap
Comment...
 h4: Common user attempts to set market borrow cap
 => ../TezFinTest/Comptroller_Tests/step_292_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_292_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_292_cont_2_params.json 1
Executing setMarketBorrowCap(sp.record(cToken = sp.to_constant(sp.test_account("[supportMarket] new market").address), newBorrowCap = 2))...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to set market borrow cap
 => ../TezFinTest/Comptroller_Tests/step_294_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_294_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_294_cont_2_params.json 1
Executing setMarketBorrowCap(sp.record(cToken = sp.to_constant(sp.test_account("[supportMarket] new market").address), newBorrowCap = 2))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 1) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 1 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"; Elt "market" "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 2)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85)))); Elt "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb" (Pair (Pair (Pair {} 2) (Pair True 900000000000000000)) (Pair (Pair False True) (Pair "market" (Pair 0 0))))})) (Pair (Pair "KT10" None) (Pair 5 False))))
Verifying sp.contract_data(2).markets[sp.to_constant(sp.test_account("[supportMarket] new market").address)].borrowCap == 2...
 OK
Comment...
 h4: Non-existant market
 => ../TezFinTest/Comptroller_Tests/step_297_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_297_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_297_cont_2_params.json 1
Executing setMarketBorrowCap(sp.record(cToken = sp.to_constant(sp.test_account("[setMarketBorrowCap] non-existant market").address), newBorrowCap = 2))...
 -> --- Expected failure in transaction --- Wrong condition: (self.data.markets.contains(params.cToken) : sp.TBool) (contracts/Comptroller.py, line 608)
Message: 'CMPT_MARKET_NOT_EXISTS'
 (contracts/Comptroller.py, line 608)
Comment...
 h3: Pending governance
Comment...
 h4: Common user attempts to set pending governance
 => ../TezFinTest/Comptroller_Tests/step_300_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_300_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_300_cont_2_params.json 1
Executing setPendingGovernance(sp.to_constant(sp.test_account("[governance] pending governance").address))...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.administrator : sp.TBool) (contracts/Comptroller.py, line 617)
Message: 'CMPT_NOT_ADMIN'
 (contracts/Comptroller.py, line 617)
Comment...
 h4: Admin attempts to set pending governance
 => ../TezFinTest/Comptroller_Tests/step_302_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_302_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_302_cont_2_params.json 1
Executing setPendingGovernance(sp.to_constant(sp.test_account("[governance] pending governance").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 1) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 1 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"; Elt "market" "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 2)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85)))); Elt "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb" (Pair (Pair (Pair {} 2) (Pair True 900000000000000000)) (Pair (Pair False True) (Pair "market" (Pair 0 0))))})) (Pair (Pair "KT10" (Some "tz1ZNmVENjqq916Tq18fZcvdGffReTAu1cTk")) (Pair 5 False))))
Verifying sp.contract_data(2).pendingAdministrator.open_some() == sp.to_constant(sp.test_account("[governance] pending governance").address)...
 OK
Comment...
 h3: Accept governance
Comment...
 h4: Not pending admin attempts to accept governance
 => ../TezFinTest/Comptroller_Tests/step_306_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_306_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_306_cont_2_params.json 1
Executing acceptGovernance(sp.unit)...
 -> --- Expected failure in transaction --- Wrong condition: (sp.sender == self.data.pendingAdministrator.open_some(message = 'CMPT_NOT_SET_PENDING_ADMIN') : sp.TBool) (contracts/Comptroller.py, line 436)
Message: 'CMPT_NOT_PENDING_ADMIN'
 (contracts/Comptroller.py, line 436)
Comment...
 h4: Pending admin attempts to accept governance
 => ../TezFinTest/Comptroller_Tests/step_308_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_308_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_308_cont_2_params.json 1
Executing acceptGovernance(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1ZNmVENjqq916Tq18fZcvdGffReTAu1cTk")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 1) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 1 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"; Elt "market" "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 2)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85)))); Elt "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb" (Pair (Pair (Pair {} 2) (Pair True 900000000000000000)) (Pair (Pair False True) (Pair "market" (Pair 0 0))))})) (Pair (Pair "KT10" None) (Pair 5 False))))
Verifying sp.contract_data(2).administrator == sp.to_constant(sp.test_account("[governance] pending governance").address)...
 OK
Verifying ~ sp.contract_data(2).pendingAdministrator.is_some()...
 OK
 => ../TezFinTest/Comptroller_Tests/step_311_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_311_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_311_cont_2_params.json 1
Executing setPendingGovernance(sp.to_constant(sp.test_account("admin").address))...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1ZNmVENjqq916Tq18fZcvdGffReTAu1cTk")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 1) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 1 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"; Elt "market" "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 2)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85)))); Elt "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb" (Pair (Pair (Pair {} 2) (Pair True 900000000000000000)) (Pair (Pair False True) (Pair "market" (Pair 0 0))))})) (Pair (Pair "KT10" (Some "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/step_312_cont_2_params.py 1
 => ../TezFinTest/Comptroller_Tests/step_312_cont_2_params.tz 1
 => ../TezFinTest/Comptroller_Tests/step_312_cont_2_params.json 1
Executing acceptGovernance(sp.unit)...
 -> (Pair (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" {"KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" {"KT10"; "KT12"; "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"}; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" {"KT10"; "KT12"}; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" {"KT10"}} {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" (Pair 100 (Pair 62 False)); Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" (Pair 10 (Pair 76 False)); Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" (Pair 0 (Pair 50 False))}) (Pair {1} "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5")) (Pair (Pair (Pair (Pair None (Pair 0 None)) (Pair 0 (Pair 0 0))) 1) (Pair 1000000000000000000 500000000000000000))) (Pair (Pair (Pair 1 5) (Pair {Elt "m1" "KT10"; Elt "m2" "KT11"; Elt "m3" "KT12"; Elt "m4" "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC"; Elt "market" "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb"} {Elt "KT10" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True; Elt "tz1biWfaw13raqsHH1ao52tgcxdP2XqydaFX" True} 0) (Pair False 2)) (Pair (Pair True False) (Pair "m1" (Pair 1000000000000000000 85)))); Elt "KT11" (Pair (Pair (Pair {} 0) (Pair True 1000000000000000000)) (Pair (Pair False True) (Pair "m2" (Pair 1000000000000000000 85)))); Elt "KT12" (Pair (Pair (Pair {Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True; Elt "tz1WxrQuZ4CK1MBUa2GqUWK1yJ4J6EtG1Gwi" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m3" (Pair 1000000000000000000 85)))); Elt "KT1Tezooo3zzSmartPyzzSTATiCzzzseJjWC" (Pair (Pair (Pair {Elt "tz1Rp4Bv8iUhYnNoCryHQgNzN2D7i3L1LF9C" True; Elt "tz1UyQDepgtUBnWjyzzonqeDwaiWoQzRKSP5" True} 0) (Pair True 1000000000000000000)) (Pair (Pair True True) (Pair "m4" (Pair 1000000000000000000 85)))); Elt "tz1hXd5Gyf9R4aTzNc8d9JL8QRYr8pEsyVZb" (Pair (Pair (Pair {} 2) (Pair True 900000000000000000)) (Pair (Pair False True) (Pair "market" (Pair 0 0))))})) (Pair (Pair "KT10" None) (Pair 5 False))))
 => ../TezFinTest/Comptroller_Tests/log.html 12532
