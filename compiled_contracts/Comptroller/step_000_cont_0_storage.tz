(Pair (Pair (Pair (Pair (Pair {} {}) (Pair "KT1NF6DKX5giazRTzPtEuNX1npkVcaoQkvK2" 500000000000000000)) (Pair (Pair {} 1000000000000000000) (Pair 500000000000000000 1050000000000000000))) (Pair (Pair (Pair {} {}) (Pair {} 15)) (Pair (Pair 86400 "KT1LDtNKDnpziwSrmSfx3xCbs7nBMg7VFp4m") (Pair None True)))) {Elt 0 { UNPAIR; IF_LEFT { IF_LEFT { IF_LEFT { IF_LEFT { DROP } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP; GET 7; IF_NONE { PUSH string "CMPT_NOT_SET_PENDING_ADMIN"; FAILWITH } {}; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_PENDING_ADMIN"; FAILWITH }; DUP; GET 7; IF_NONE { PUSH int 595; FAILWITH } {}; SWAP; UNPAIR; UNPAIR; UNPAIR; SWAP; CDR; DIG 4; PAIR; SWAP; PAIR; PAIR; PAIR; NONE address; UPDATE 7; NIL operation; PAIR }; Elt 1 { UNPAIR; IF_LEFT { IF_LEFT { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } {} } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; GET 3; GET 3; DUP 2; CAR; GET; IF_NONE { PUSH int 217; FAILWITH } {}; CAR; CAR; CAR; IF { PUSH string "CMPT_BORROW_PAUSED"; FAILWITH } {}; DUP 2; GET 3; GET 3; DUP 2; CAR; MEM; IF { DUP 2; GET 3; GET 3; DUP 2; CAR; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; PUSH bool True; DUP 3; CAR; GET 3; CAR; DUP 3; GET 3; MEM; IF { DUP 3; CAR; GET 3; CAR; DUP 3; GET 3; GET; IF_NONE { PUSH int 828; FAILWITH } {}; DUP 3; CAR; MEM; IF { DROP; PUSH bool False } {} } {}; DUP 3; GET 3; CAR; CAR; DUP 3; GET 3; MEM; IF { DUP } { PUSH bool False }; IF { DUP 3; GET 3; CAR; CAR; DUP 3; GET 3; GET; IF_NONE { PUSH int 832; FAILWITH } {}; DUP 3; CAR; MEM; IF { DROP; PUSH bool False } {} } {}; DUP; IF { EMPTY_SET address; DUP 4; CAR; GET 3; CAR; DUP 4; GET 3; MEM; IF { DUP 4; CAR; GET 3; CAR; DUP 4; GET 3; GET; IF_NONE { PUSH int 815; FAILWITH } {}; ITER { SWAP; PUSH bool True; DIG 2; UPDATE } } {}; DUP 4; GET 3; CAR; CAR; DUP 4; GET 3; MEM; IF { DUP 4; GET 3; CAR; CAR; DUP 4; GET 3; GET; IF_NONE { PUSH int 819; FAILWITH } {}; ITER { SWAP; PUSH bool True; DIG 2; UPDATE } } {}; DUP 4; GET 3; GET 4; SWAP; SIZE; COMPARE; LT; IF {} { PUSH string "CMPT_TOO_MANY_ASSETS"; FAILWITH } } {}; DUP 3; GET 3; CAR; CAR; DUP 3; GET 3; MEM; IF {} { DUP 2; CAR; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_INVALID_BORROW_SENDER"; FAILWITH } }; DUP 2; CAR; SENDER; COMPARE; EQ; IF { DUP 3; GET 3; GET 3; DUP 3; CAR; MEM; IF { DUP 3; GET 3; GET 3; DUP 3; CAR; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; DUP 3; GET 3; CAR; CAR; DUP 3; GET 3; MEM; IF { DIG 2; UNPAIR; SWAP; UNPAIR; UNPAIR; UNPAIR; DUP; DUP 8; GET 3; DUP; DUG 2; GET; IF_NONE { PUSH int 240; FAILWITH } {}; PUSH bool True; DUP 10; CAR; UPDATE; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; SWAP; PAIR; DUG 2 } { DIG 2; UNPAIR; SWAP; UNPAIR; UNPAIR; UNPAIR; EMPTY_SET address; PUSH bool True; DUP 9; CAR; UPDATE; SOME; DUP 8; GET 3; UPDATE; PAIR; PAIR; PAIR; SWAP; PAIR; DUG 2 } } {}; DUP 3; CAR; CAR; CAR; CAR; DUP 3; GET 3; MEM; IF {} { PUSH string "CMPT_LIQUIDITY_ABSENT"; FAILWITH }; DUP 3; CAR; CAR; CAR; CAR; DUP 3; GET 3; GET; IF_NONE { PUSH int 802; FAILWITH } {}; GET 4; IF {} { PUSH string "CMPT_LIQUIDITY_INVALID"; FAILWITH }; DUP 3; CAR; CAR; CAR; CAR; DUP 3; GET 3; GET; IF_NONE { PUSH int 804; FAILWITH } {}; GET 3; LEVEL; SUB; ISNAT; IF_NONE { PUSH string "SUBTRACTION_UNDERFLOW"; FAILWITH } {}; PUSH nat 0; DUP 2; COMPARE; EQ; IF {} { PUSH string "CMPT_LIQUIDITY_OLD"; FAILWITH }; DUP 4; GET 3; GET 3; DUP 4; CAR; GET; IF_NONE { PUSH int 316; FAILWITH } {}; GET 8; LEVEL; DIG 2; DROP; DIG 2; DROP; COMPARE; EQ; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 3; GET 3; GET 3; DUP 3; CAR; GET; IF_NONE { PUSH int 317; FAILWITH } {}; GET 3; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; DUP 2; CAR; GET 3; CDR; DUP 2; GET 4; DUP 4; GET 3; GET 3; DUP 4; CAR; GET; IF_NONE { PUSH int 196; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; INT; DUP 3; CAR; CAR; CAR; CAR; DUP 3; GET 3; GET; IF_NONE { PUSH int 195; FAILWITH } {}; CAR; SUB; PUSH int 0; SWAP; COMPARE; GE; IF {} { PUSH string "CMPT_REDEEMER_SHORTFALL"; FAILWITH }; DUP 2; CAR; CAR; CAR; CAR; DUP 2; GET 3; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; DUP; DIG 6; GET 3; DUP; DUG 2; GET; IF_NONE { PUSH int 809; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR } { DROP }; NIL operation; PAIR }; Elt 2 { UNPAIR; IF_LEFT { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; CAR; CAR; GET 3; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; DUP 2; GET 3; GET 3; DUP 2; MEM; IF { DUP 2; GET 3; GET 3; DUP 2; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; DUP; DIG 6; DUP; DUG 2; GET; IF_NONE { PUSH int 777; FAILWITH } {}; UNPAIR; UNPAIR; SWAP; CDR; PUSH bool False; PAIR; SWAP; PAIR; PAIR; SOME; SWAP; UPDATE; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 3 { UNPAIR; IF_LEFT { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; EMPTY_SET address; DUP 3; CAR; GET 3; CAR; SENDER; MEM; IF { DUP 3; CAR; GET 3; CAR; SENDER; GET; IF_NONE { PUSH int 815; FAILWITH } {}; ITER { SWAP; PUSH bool True; DIG 2; UPDATE } } {}; DUP 3; GET 3; CAR; CAR; SENDER; MEM; IF { DUP 3; GET 3; CAR; CAR; SENDER; GET; IF_NONE { PUSH int 819; FAILWITH } {}; ITER { SWAP; PUSH bool True; DIG 2; UPDATE } } {}; DUP; SIZE; DUP 3; ITER { PUSH bool True; DUP 6; CAR; GET 3; CAR; SENDER; MEM; IF { DUP 6; CAR; GET 3; CAR; SENDER; GET; IF_NONE { PUSH int 828; FAILWITH } {}; DUP 3; MEM; IF { DROP; PUSH bool False } {} } {}; DUP 6; GET 3; CAR; CAR; SENDER; MEM; IF { DUP } { PUSH bool False }; IF { DUP 6; GET 3; CAR; CAR; SENDER; GET; IF_NONE { PUSH int 832; FAILWITH } {}; DUP 3; MEM; IF { DROP; PUSH bool False } {} } {}; IF { DUP 5; GET 3; GET 4; DUP 3; COMPARE; LT; IF {} { PUSH string "CMPT_TOO_MANY_ASSETS"; FAILWITH }; SWAP; PUSH nat 1; ADD; SWAP } {}; DUP 5; GET 3; GET 3; DUP 2; MEM; IF { DUP 5; GET 3; GET 3; DUP 2; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; DUP 5; CAR; GET 3; CAR; SENDER; MEM; IF { DIG 4; UNPAIR; UNPAIR; SWAP; UNPAIR; UNPAIR; DUP; SENDER; DUP; DUG 2; GET; IF_NONE { PUSH int 94; FAILWITH } {}; PUSH bool True; DIG 8; UPDATE; SOME; SWAP; UPDATE; PAIR; PAIR; SWAP; PAIR; PAIR; DUG 3 } { DIG 4; UNPAIR; UNPAIR; SWAP; UNPAIR; UNPAIR; EMPTY_SET address; PUSH bool True; DIG 7; UPDATE; SOME; SENDER; UPDATE; PAIR; PAIR; SWAP; PAIR; PAIR; DUG 3 } }; DROP 3; DUP; CAR; CAR; CAR; CAR; SENDER; MEM; IF { UNPAIR; UNPAIR; UNPAIR; UNPAIR; DUP; SENDER; DUP; DUG 2; GET; IF_NONE { PUSH int 809; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR } {}; NIL operation; PAIR }; Elt 4 { UNPAIR; IF_LEFT { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { DROP } } } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH }; DUP; CAR; CAR; GET 3; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; UNPAIR; UNPAIR; UNPAIR; CAR; EMPTY_SET nat; SWAP; PAIR; PAIR; PAIR; PAIR; NIL operation; PAIR }; Elt 5 { UNPAIR; IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT {} { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; GET 3; GET 3; DUP 2; CAR; CDR; MEM; IF { DUP 2; GET 3; GET 3; DUP 2; CAR; CDR; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; DUP 2; GET 3; GET 3; DUP 2; GET 3; MEM; IF { DUP 2; GET 3; GET 3; DUP 2; GET 3; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; PUSH (pair nat nat) (Pair 0 0); DUP; DUP 4; CAR; GET 3; CAR; DUP 4; CAR; CAR; MEM; IF { DUP 4; CAR; GET 3; CAR; DUP 4; CAR; CAR; GET; IF_NONE { PUSH int 501; FAILWITH } {}; ITER { DUP; DUP 5; CAR; CAR; VIEW "getAccountSnapshotView" (option (pair (pair (address %account) (nat %borrowBalance)) (pair (nat %cTokenBalance) (nat %exchangeRateMantissa)))); IF_NONE { PUSH string "INVALID ACCOUNT SNAPSHOT VIEW"; FAILWITH } {}; IF_NONE { PUSH string "CMPT_OUTDATED_ACCOUNT_SNAPSHOT"; FAILWITH } { DROP }; DUP; DUP 5; CAR; CAR; VIEW "getAccountSnapshotView" (option (pair (pair (address %account) (nat %borrowBalance)) (pair (nat %cTokenBalance) (nat %exchangeRateMantissa)))); IF_NONE { PUSH string "INVALID ACCOUNT SNAPSHOT VIEW"; FAILWITH } {}; IF_NONE { PUSH int 531; FAILWITH } {}; DUP; GET 4; DUP 7; GET 3; GET 3; DUP 4; GET; IF_NONE { PUSH int 316; FAILWITH } {}; GET 8; LEVEL; COMPARE; EQ; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 8; GET 3; GET 3; DUP 5; GET; IF_NONE { PUSH int 317; FAILWITH } {}; GET 3; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; DUP 7; CAR; GET 3; CDR; SWAP; DUP 8; CAR; GET 3; CDR; DUP 9; GET 3; GET 3; DUP 6; GET; IF_NONE { PUSH int 535; FAILWITH } {}; CAR; CAR; CDR; DUP 10; GET 3; GET 3; DUP 7; GET; IF_NONE { PUSH int 535; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 207; FAILWITH } { CAR }; MUL; EDIV; IF_NONE { PUSH int 207; FAILWITH } { CAR }; PUSH (pair nat nat) (Pair 0 0); DUP 8; CAR; GET 3; CAR; DUP 4; CAR; CAR; MEM; IF { DUP 8; CAR; GET 3; CAR; DUP 4; CAR; CAR; GET; IF_NONE { PUSH int 540; FAILWITH } {}; DUP 5; MEM } { PUSH bool False }; IF { DUP; CDR; DUP 9; CAR; GET 3; CDR; DUP 5; GET 3; DIG 4; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; ADD; UPDATE 2 } { SWAP; DROP }; DUP; CAR; DUP 8; CAR; GET 3; CDR; DIG 3; CAR; CDR; DUP 9; GET 3; GET 3; DIG 5; GET; IF_NONE { PUSH int 544; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; ADD; UPDATE 1; DIG 2; DUP; CDR; DUP 3; CDR; ADD; UPDATE 2; DUP; CAR; DIG 2; CAR; ADD; UPDATE 1; SWAP } } {}; DUP 4; GET 3; CAR; CAR; DUP 4; CAR; CAR; MEM; IF { DUP 4; GET 3; CAR; CAR; DUP 4; CAR; CAR; GET; IF_NONE { PUSH int 509; FAILWITH } {}; ITER { DUP 5; CAR; GET 3; CAR; DUP 5; CAR; CAR; MEM; IF { DUP 5; CAR; GET 3; CAR; DUP 5; CAR; CAR; GET; IF_NONE { PUSH int 512; FAILWITH } {}; DUP 2; MEM; IF { DROP } { DUP; DUP 5; CAR; CAR; VIEW "getAccountSnapshotView" (option (pair (pair (address %account) (nat %borrowBalance)) (pair (nat %cTokenBalance) (nat %exchangeRateMantissa)))); IF_NONE { PUSH string "INVALID ACCOUNT SNAPSHOT VIEW"; FAILWITH } {}; IF_NONE { PUSH string "CMPT_OUTDATED_ACCOUNT_SNAPSHOT"; FAILWITH } { DROP }; DUP; DUP 5; CAR; CAR; VIEW "getAccountSnapshotView" (option (pair (pair (address %account) (nat %borrowBalance)) (pair (nat %cTokenBalance) (nat %exchangeRateMantissa)))); IF_NONE { PUSH string "INVALID ACCOUNT SNAPSHOT VIEW"; FAILWITH } {}; IF_NONE { PUSH int 531; FAILWITH } {}; DUP; GET 4; DUP 7; GET 3; GET 3; DUP 4; GET; IF_NONE { PUSH int 316; FAILWITH } {}; GET 8; LEVEL; COMPARE; EQ; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 8; GET 3; GET 3; DUP 5; GET; IF_NONE { PUSH int 317; FAILWITH } {}; GET 3; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; DUP 7; CAR; GET 3; CDR; SWAP; DUP 8; CAR; GET 3; CDR; DUP 9; GET 3; GET 3; DUP 6; GET; IF_NONE { PUSH int 535; FAILWITH } {}; CAR; CAR; CDR; DUP 10; GET 3; GET 3; DUP 7; GET; IF_NONE { PUSH int 535; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 207; FAILWITH } { CAR }; MUL; EDIV; IF_NONE { PUSH int 207; FAILWITH } { CAR }; PUSH (pair nat nat) (Pair 0 0); DUP 8; CAR; GET 3; CAR; DUP 4; CAR; CAR; MEM; IF { DUP 8; CAR; GET 3; CAR; DUP 4; CAR; CAR; GET; IF_NONE { PUSH int 540; FAILWITH } {}; DUP 5; MEM } { PUSH bool False }; IF { DUP; CDR; DUP 9; CAR; GET 3; CDR; DUP 5; GET 3; DIG 4; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; ADD; UPDATE 2 } { SWAP; DROP }; DUP; CAR; DUP 8; CAR; GET 3; CDR; DIG 3; CAR; CDR; DUP 9; GET 3; GET 3; DIG 5; GET; IF_NONE { PUSH int 544; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; ADD; UPDATE 1; DIG 2; DUP; CDR; DUP 3; CDR; ADD; UPDATE 2; DUP; CAR; DIG 2; CAR; ADD; UPDATE 1; SWAP } } { DUP; DUP 5; CAR; CAR; VIEW "getAccountSnapshotView" (option (pair (pair (address %account) (nat %borrowBalance)) (pair (nat %cTokenBalance) (nat %exchangeRateMantissa)))); IF_NONE { PUSH string "INVALID ACCOUNT SNAPSHOT VIEW"; FAILWITH } {}; IF_NONE { PUSH string "CMPT_OUTDATED_ACCOUNT_SNAPSHOT"; FAILWITH } { DROP }; DUP; DUP 5; CAR; CAR; VIEW "getAccountSnapshotView" (option (pair (pair (address %account) (nat %borrowBalance)) (pair (nat %cTokenBalance) (nat %exchangeRateMantissa)))); IF_NONE { PUSH string "INVALID ACCOUNT SNAPSHOT VIEW"; FAILWITH } {}; IF_NONE { PUSH int 531; FAILWITH } {}; DUP; GET 4; DUP 7; GET 3; GET 3; DUP 4; GET; IF_NONE { PUSH int 316; FAILWITH } {}; GET 8; LEVEL; COMPARE; EQ; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 8; GET 3; GET 3; DUP 5; GET; IF_NONE { PUSH int 317; FAILWITH } {}; GET 3; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; DUP 7; CAR; GET 3; CDR; SWAP; DUP 8; CAR; GET 3; CDR; DUP 9; GET 3; GET 3; DUP 6; GET; IF_NONE { PUSH int 535; FAILWITH } {}; CAR; CAR; CDR; DUP 10; GET 3; GET 3; DUP 7; GET; IF_NONE { PUSH int 535; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 207; FAILWITH } { CAR }; MUL; EDIV; IF_NONE { PUSH int 207; FAILWITH } { CAR }; PUSH (pair nat nat) (Pair 0 0); DUP 8; CAR; GET 3; CAR; DUP 4; CAR; CAR; MEM; IF { DUP 8; CAR; GET 3; CAR; DUP 4; CAR; CAR; GET; IF_NONE { PUSH int 540; FAILWITH } {}; DUP 5; MEM } { PUSH bool False }; IF { DUP; CDR; DUP 9; CAR; GET 3; CDR; DUP 5; GET 3; DIG 4; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; ADD; UPDATE 2 } { SWAP; DROP }; DUP; CAR; DUP 8; CAR; GET 3; CDR; DIG 3; CAR; CDR; DUP 9; GET 3; GET 3; DIG 5; GET; IF_NONE { PUSH int 544; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; ADD; UPDATE 1; DIG 2; DUP; CDR; DUP 3; CDR; ADD; UPDATE 2; DUP; CAR; DIG 2; CAR; ADD; UPDATE 1; SWAP } }; DROP } { DROP }; UNPAIR; SWAP; SUB; PUSH int 0; COMPARE; GT; IF {} { PUSH string "CMPT_INSUFFICIENT_SHORTFALL"; FAILWITH }; DUP 2; CAR; GET 3; CDR; DUP 2; CAR; CDR; DUP 3; CAR; CAR; VIEW "borrowBalanceStoredView" (pair nat nat); IF_NONE { PUSH string "INVALID ACCOUNT BORROW BALANCE VIEW"; FAILWITH } {}; CAR; DUP 4; CAR; CAR; GET 4; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; SWAP; DUP; GET 6; DIG 2; COMPARE; GE; IF {} { PUSH string "CMPT_TOO_MUCH_REPAY"; FAILWITH }; DUP 2; CAR; CAR; CAR; CAR; DUP 2; CAR; CAR; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; DUP; DUP 7; CAR; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 809; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR; SWAP } {}; DUP 2; CAR; CAR; CAR; CAR; DUP 2; GET 5; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; DUP; DIG 6; GET 5; DUP; DUG 2; GET; IF_NONE { PUSH int 809; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR } { DROP }; NIL operation; PAIR }; Elt 6 { UNPAIR; IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; GET 3; GET 3; DUP 2; CAR; GET; IF_NONE { PUSH int 158; FAILWITH } {}; CAR; GET 4; IF { PUSH string "CMPT_MINT_PAUSED"; FAILWITH } {}; DUP 2; GET 3; GET 3; DUP 2; CAR; MEM; IF { DUP 2; GET 3; GET 3; DUP 2; CAR; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; DUP 2; CAR; CAR; CAR; CAR; DUP 2; GET 3; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; DUP; DIG 6; GET 3; DUP; DUG 2; GET; IF_NONE { PUSH int 809; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR } { DROP }; NIL operation; PAIR }; Elt 7 { UNPAIR; IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } {} } } { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; GET 3; GET 3; DUP 2; CAR; MEM; IF { DUP 2; GET 3; GET 3; DUP 2; CAR; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; DUP 2; CAR; GET 3; CAR; DUP 2; GET 3; MEM; IF { DUP 2; CAR; GET 3; CAR; DUP 2; GET 3; GET; IF_NONE { PUSH int 185; FAILWITH } {}; DUP 2; CAR; MEM } { PUSH bool False }; IF { DUP 2; GET 3; CAR; CAR; DUP 2; GET 3; MEM; IF { PUSH nat 0; DUP 3; GET 3; CAR; CAR; DUP 3; GET 3; GET; IF_NONE { PUSH int 187; FAILWITH } {}; SIZE; COMPARE; NEQ } { PUSH bool False }; IF { DUP 2; CAR; CAR; CAR; CAR; DUP 2; GET 3; MEM; IF {} { PUSH string "CMPT_LIQUIDITY_ABSENT"; FAILWITH }; DUP 2; CAR; CAR; CAR; CAR; DUP 2; GET 3; GET; IF_NONE { PUSH int 802; FAILWITH } {}; GET 4; IF {} { PUSH string "CMPT_LIQUIDITY_INVALID"; FAILWITH }; DUP 2; CAR; CAR; CAR; CAR; DUP 2; GET 3; GET; IF_NONE { PUSH int 804; FAILWITH } {}; GET 3; LEVEL; SUB; ISNAT; IF_NONE { PUSH string "SUBTRACTION_UNDERFLOW"; FAILWITH } {}; PUSH nat 0; DUP 2; COMPARE; EQ; IF {} { PUSH string "CMPT_LIQUIDITY_OLD"; FAILWITH }; DUP 3; GET 3; GET 3; DUP 3; CAR; GET; IF_NONE { PUSH int 316; FAILWITH } {}; GET 8; LEVEL; DIG 2; DROP; COMPARE; EQ; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 3; GET 3; GET 3; DUP 3; CAR; GET; IF_NONE { PUSH int 317; FAILWITH } {}; GET 3; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; DUP 2; CAR; GET 3; CDR; DUP 2; GET 4; DUP 4; GET 3; GET 3; DUP 4; CAR; GET; IF_NONE { PUSH int 196; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; INT; DUP 3; CAR; CAR; CAR; CAR; DUP 3; GET 3; GET; IF_NONE { PUSH int 195; FAILWITH } {}; CAR; SUB; PUSH int 0; SWAP; COMPARE; GE; IF {} { PUSH string "CMPT_REDEEMER_SHORTFALL"; FAILWITH } } {} } {}; DUP 2; CAR; CAR; CAR; CAR; DUP 2; GET 3; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; DUP; DIG 6; GET 3; DUP; DUG 2; GET; IF_NONE { PUSH int 809; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR } { DROP }; NIL operation; PAIR }; Elt 8 { UNPAIR; IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } } { PUSH int -1; FAILWITH }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; GET 3; GET 3; SENDER; MEM; IF { DUP 2; GET 3; GET 3; SENDER; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; DUP 2; GET 3; CAR; CAR; DUP 2; MEM; IF { DUP 2; GET 3; CAR; CAR; DUP 2; GET; IF_NONE { PUSH int 249; FAILWITH } {}; SENDER; MEM } { PUSH bool False }; IF { SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; UNPAIR; DUP; DIG 6; DUP; DUG 2; GET; IF_NONE { PUSH int 250; FAILWITH } {}; PUSH bool False; SENDER; UPDATE; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; SWAP; PAIR } { DROP }; NIL operation; PAIR }; Elt 9 { UNPAIR; IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } } } { PUSH int -1; FAILWITH }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; GET 3; GET 3; DUP 2; CAR; MEM; IF { DUP 2; GET 3; GET 3; DUP 2; CAR; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; DUP 2; CAR; CAR; CAR; CAR; DUP 2; GET 5; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; DUP; DUP 7; GET 5; DUP; DUG 2; GET; IF_NONE { PUSH int 809; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR; SWAP } {}; DUP 2; CAR; CAR; CAR; CAR; DUP 2; GET 3; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; DUP; DIG 6; GET 3; DUP; DUG 2; GET; IF_NONE { PUSH int 809; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR } { DROP }; NIL operation; PAIR }; Elt 10 { UNPAIR; IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } {} } } } } { PUSH int -1; FAILWITH }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; PUSH (pair nat nat) (Pair 0 0); DUP; DUP 4; CAR; GET 3; CAR; DUP 4; MEM; IF { DUP 4; CAR; GET 3; CAR; DUP 4; GET; IF_NONE { PUSH int 501; FAILWITH } {}; ITER { DUP; DUP 5; VIEW "getAccountSnapshotView" (option (pair (pair (address %account) (nat %borrowBalance)) (pair (nat %cTokenBalance) (nat %exchangeRateMantissa)))); IF_NONE { PUSH string "INVALID ACCOUNT SNAPSHOT VIEW"; FAILWITH } {}; IF_NONE { PUSH string "CMPT_OUTDATED_ACCOUNT_SNAPSHOT"; FAILWITH } { DROP }; DUP; DUP 5; VIEW "getAccountSnapshotView" (option (pair (pair (address %account) (nat %borrowBalance)) (pair (nat %cTokenBalance) (nat %exchangeRateMantissa)))); IF_NONE { PUSH string "INVALID ACCOUNT SNAPSHOT VIEW"; FAILWITH } {}; IF_NONE { PUSH int 531; FAILWITH } {}; DUP; GET 4; DUP 7; GET 3; GET 3; DUP 4; GET; IF_NONE { PUSH int 316; FAILWITH } {}; GET 8; LEVEL; COMPARE; EQ; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 8; GET 3; GET 3; DUP 5; GET; IF_NONE { PUSH int 317; FAILWITH } {}; GET 3; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; DUP 7; CAR; GET 3; CDR; SWAP; DUP 8; CAR; GET 3; CDR; DUP 9; GET 3; GET 3; DUP 6; GET; IF_NONE { PUSH int 535; FAILWITH } {}; CAR; CAR; CDR; DUP 10; GET 3; GET 3; DUP 7; GET; IF_NONE { PUSH int 535; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 207; FAILWITH } { CAR }; MUL; EDIV; IF_NONE { PUSH int 207; FAILWITH } { CAR }; PUSH (pair nat nat) (Pair 0 0); DUP 8; CAR; GET 3; CAR; DUP 4; CAR; CAR; MEM; IF { DUP 8; CAR; GET 3; CAR; DUP 4; CAR; CAR; GET; IF_NONE { PUSH int 540; FAILWITH } {}; DUP 5; MEM } { PUSH bool False }; IF { DUP; CDR; DUP 9; CAR; GET 3; CDR; DUP 5; GET 3; DIG 4; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; ADD; UPDATE 2 } { SWAP; DROP }; DUP; CAR; DUP 8; CAR; GET 3; CDR; DIG 3; CAR; CDR; DUP 9; GET 3; GET 3; DIG 5; GET; IF_NONE { PUSH int 544; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; ADD; UPDATE 1; DIG 2; DUP; CDR; DUP 3; CDR; ADD; UPDATE 2; DUP; CAR; DIG 2; CAR; ADD; UPDATE 1; SWAP } } {}; DUP 4; GET 3; CAR; CAR; DUP 4; MEM; IF { DUP 4; GET 3; CAR; CAR; DUP 4; GET; IF_NONE { PUSH int 509; FAILWITH } {}; ITER { DUP 5; CAR; GET 3; CAR; DUP 5; MEM; IF { DUP 5; CAR; GET 3; CAR; DUP 5; GET; IF_NONE { PUSH int 512; FAILWITH } {}; DUP 2; MEM; IF { DROP } { DUP; DUP 5; VIEW "getAccountSnapshotView" (option (pair (pair (address %account) (nat %borrowBalance)) (pair (nat %cTokenBalance) (nat %exchangeRateMantissa)))); IF_NONE { PUSH string "INVALID ACCOUNT SNAPSHOT VIEW"; FAILWITH } {}; IF_NONE { PUSH string "CMPT_OUTDATED_ACCOUNT_SNAPSHOT"; FAILWITH } { DROP }; DUP; DUP 5; VIEW "getAccountSnapshotView" (option (pair (pair (address %account) (nat %borrowBalance)) (pair (nat %cTokenBalance) (nat %exchangeRateMantissa)))); IF_NONE { PUSH string "INVALID ACCOUNT SNAPSHOT VIEW"; FAILWITH } {}; IF_NONE { PUSH int 531; FAILWITH } {}; DUP; GET 4; DUP 7; GET 3; GET 3; DUP 4; GET; IF_NONE { PUSH int 316; FAILWITH } {}; GET 8; LEVEL; COMPARE; EQ; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 8; GET 3; GET 3; DUP 5; GET; IF_NONE { PUSH int 317; FAILWITH } {}; GET 3; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; DUP 7; CAR; GET 3; CDR; SWAP; DUP 8; CAR; GET 3; CDR; DUP 9; GET 3; GET 3; DUP 6; GET; IF_NONE { PUSH int 535; FAILWITH } {}; CAR; CAR; CDR; DUP 10; GET 3; GET 3; DUP 7; GET; IF_NONE { PUSH int 535; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 207; FAILWITH } { CAR }; MUL; EDIV; IF_NONE { PUSH int 207; FAILWITH } { CAR }; PUSH (pair nat nat) (Pair 0 0); DUP 8; CAR; GET 3; CAR; DUP 4; CAR; CAR; MEM; IF { DUP 8; CAR; GET 3; CAR; DUP 4; CAR; CAR; GET; IF_NONE { PUSH int 540; FAILWITH } {}; DUP 5; MEM } { PUSH bool False }; IF { DUP; CDR; DUP 9; CAR; GET 3; CDR; DUP 5; GET 3; DIG 4; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; ADD; UPDATE 2 } { SWAP; DROP }; DUP; CAR; DUP 8; CAR; GET 3; CDR; DIG 3; CAR; CDR; DUP 9; GET 3; GET 3; DIG 5; GET; IF_NONE { PUSH int 544; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; ADD; UPDATE 1; DIG 2; DUP; CDR; DUP 3; CDR; ADD; UPDATE 2; DUP; CAR; DIG 2; CAR; ADD; UPDATE 1; SWAP } } { DUP; DUP 5; VIEW "getAccountSnapshotView" (option (pair (pair (address %account) (nat %borrowBalance)) (pair (nat %cTokenBalance) (nat %exchangeRateMantissa)))); IF_NONE { PUSH string "INVALID ACCOUNT SNAPSHOT VIEW"; FAILWITH } {}; IF_NONE { PUSH string "CMPT_OUTDATED_ACCOUNT_SNAPSHOT"; FAILWITH } { DROP }; DUP; DUP 5; VIEW "getAccountSnapshotView" (option (pair (pair (address %account) (nat %borrowBalance)) (pair (nat %cTokenBalance) (nat %exchangeRateMantissa)))); IF_NONE { PUSH string "INVALID ACCOUNT SNAPSHOT VIEW"; FAILWITH } {}; IF_NONE { PUSH int 531; FAILWITH } {}; DUP; GET 4; DUP 7; GET 3; GET 3; DUP 4; GET; IF_NONE { PUSH int 316; FAILWITH } {}; GET 8; LEVEL; COMPARE; EQ; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 8; GET 3; GET 3; DUP 5; GET; IF_NONE { PUSH int 317; FAILWITH } {}; GET 3; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; DUP 7; CAR; GET 3; CDR; SWAP; DUP 8; CAR; GET 3; CDR; DUP 9; GET 3; GET 3; DUP 6; GET; IF_NONE { PUSH int 535; FAILWITH } {}; CAR; CAR; CDR; DUP 10; GET 3; GET 3; DUP 7; GET; IF_NONE { PUSH int 535; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 207; FAILWITH } { CAR }; MUL; EDIV; IF_NONE { PUSH int 207; FAILWITH } { CAR }; PUSH (pair nat nat) (Pair 0 0); DUP 8; CAR; GET 3; CAR; DUP 4; CAR; CAR; MEM; IF { DUP 8; CAR; GET 3; CAR; DUP 4; CAR; CAR; GET; IF_NONE { PUSH int 540; FAILWITH } {}; DUP 5; MEM } { PUSH bool False }; IF { DUP; CDR; DUP 9; CAR; GET 3; CDR; DUP 5; GET 3; DIG 4; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; ADD; UPDATE 2 } { SWAP; DROP }; DUP; CAR; DUP 8; CAR; GET 3; CDR; DIG 3; CAR; CDR; DUP 9; GET 3; GET 3; DIG 5; GET; IF_NONE { PUSH int 544; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; ADD; UPDATE 1; DIG 2; DUP; CDR; DUP 3; CDR; ADD; UPDATE 2; DUP; CAR; DIG 2; CAR; ADD; UPDATE 1; SWAP } } } {}; DUP 2; DUP 5; CAR; CAR; CAR; CDR; PUSH nat 4; MEM; IF {} { PUSH string "OP_NOT_ACTIVE"; FAILWITH }; DIG 4; UNPAIR; UNPAIR; UNPAIR; UNPAIR; SWAP; PUSH bool False; PUSH nat 4; UPDATE; SWAP; PUSH bool True; LEVEL; DIG 8; DROP; DIG 8; DROP; DIG 7; UNPAIR; SWAP; SUB; PAIR 3; SOME; DIG 6; UPDATE; PAIR; PAIR; PAIR; PAIR; NIL operation; PAIR }; Elt 11 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { IF_LEFT {} { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; CAR; CAR; CAR; CDR; PUSH nat 1; MEM; IF {} { PUSH string "OP_NOT_ACTIVE"; FAILWITH }; SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; SWAP; PUSH bool False; PUSH nat 1; UPDATE; SWAP; PAIR; PAIR; PAIR; PAIR; SWAP; PUSH nat 0; DUP 2; CAR; CDR; COMPARE; EQ; IF {} { PUSH string "CMPT_BORROW_IN_MARKET"; FAILWITH }; DUP 2; GET 3; GET 3; SENDER; MEM; IF { DUP 2; GET 3; GET 3; SENDER; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; DUP 2; CAR; GET 3; CAR; DUP 2; CAR; CAR; MEM; IF { DUP 2; CAR; GET 3; CAR; DUP 2; CAR; CAR; GET; IF_NONE { PUSH int 185; FAILWITH } {}; SENDER; MEM } { PUSH bool False }; IF { DUP 2; GET 3; CAR; CAR; DUP 2; CAR; CAR; MEM; IF { PUSH nat 0; DUP 3; GET 3; CAR; CAR; DUP 3; CAR; CAR; GET; IF_NONE { PUSH int 187; FAILWITH } {}; SIZE; COMPARE; NEQ } { PUSH bool False }; IF { DUP 2; CAR; CAR; CAR; CAR; DUP 2; CAR; CAR; MEM; IF {} { PUSH string "CMPT_LIQUIDITY_ABSENT"; FAILWITH }; DUP 2; CAR; CAR; CAR; CAR; DUP 2; CAR; CAR; GET; IF_NONE { PUSH int 802; FAILWITH } {}; GET 4; IF {} { PUSH string "CMPT_LIQUIDITY_INVALID"; FAILWITH }; DUP 2; CAR; CAR; CAR; CAR; DUP 2; CAR; CAR; GET; IF_NONE { PUSH int 804; FAILWITH } {}; GET 3; LEVEL; SUB; ISNAT; IF_NONE { PUSH string "SUBTRACTION_UNDERFLOW"; FAILWITH } {}; PUSH nat 0; DUP 2; COMPARE; EQ; IF {} { PUSH string "CMPT_LIQUIDITY_OLD"; FAILWITH }; DUP 3; GET 3; GET 3; SENDER; GET; IF_NONE { PUSH int 316; FAILWITH } {}; GET 8; LEVEL; DIG 2; DROP; COMPARE; EQ; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 3; GET 3; GET 3; SENDER; GET; IF_NONE { PUSH int 317; FAILWITH } {}; GET 3; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; DUP 2; CAR; GET 3; CDR; DUP 2; GET 3; DUP 4; GET 3; GET 3; SENDER; GET; IF_NONE { PUSH int 196; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; INT; DUP 3; CAR; CAR; CAR; CAR; DUP 3; CAR; CAR; GET; IF_NONE { PUSH int 195; FAILWITH } {}; CAR; SUB; PUSH int 0; SWAP; COMPARE; GE; IF {} { PUSH string "CMPT_REDEEMER_SHORTFALL"; FAILWITH } } {} } {}; DUP 2; CAR; CAR; CAR; CAR; DUP 2; CAR; CAR; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; DUP; DUP 7; CAR; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 809; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR; SWAP } {}; DUP 2; CAR; GET 3; CAR; DUP 2; CAR; CAR; MEM; IF { DUP 2; CAR; GET 3; CAR; DUP 2; CAR; CAR; GET; IF_NONE { PUSH int 138; FAILWITH } {}; SENDER; MEM } { PUSH bool False }; IF { SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; UNPAIR; DUP; DUP 7; CAR; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 140; FAILWITH } {}; PUSH bool False; SENDER; UPDATE; SOME; SWAP; UPDATE; PAIR; PAIR; SWAP; PAIR; PAIR; SWAP } {}; DUP 2; CAR; CAR; CAR; CAR; DUP 2; CAR; CAR; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; DUP; DIG 6; CAR; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 809; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR } { DROP }; NIL operation; PAIR }; Elt 12 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; GET 3; GET 3; DUP 2; CAR; MEM; IF { DUP 2; GET 3; GET 3; DUP 2; CAR; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; DUP 2; CAR; CAR; GET 3; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; DUP; DUP 7; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 632; FAILWITH } {}; UNPAIR; UNPAIR; CDR; DIG 9; CDR; PAIR; PAIR; PAIR; SOME; SWAP; UPDATE; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 13 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } {} } } { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; CAR; CAR; GET 3; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; UNPAIR; UNPAIR; UNPAIR; SWAP; CAR; DIG 4; SWAP; PAIR; SWAP; PAIR; PAIR; PAIR; NIL operation; PAIR }; Elt 14 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH } }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; CAR; CAR; GET 3; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; DUP 2; GET 3; GET 3; DUP 2; CAR; MEM; IF { DUP 2; GET 3; GET 3; DUP 2; CAR; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; DUP; DUP 7; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 714; FAILWITH } {}; UNPAIR; UNPAIR; CAR; DIG 9; CDR; SWAP; PAIR; PAIR; PAIR; SOME; SWAP; UPDATE; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 15 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } } { PUSH int -1; FAILWITH } }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; CAR; CAR; GET 3; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; SWAP; CAR; DIG 4; SWAP; PAIR; SWAP; PAIR; SWAP; PAIR; PAIR; NIL operation; PAIR }; Elt 16 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } {} } } } { PUSH int -1; FAILWITH } }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; CAR; CAR; GET 3; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; CAR; DIG 4; SWAP; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 17 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT {} { PUSH int -1; FAILWITH } } { PUSH int -1; FAILWITH } } }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; GET 3; GET 3; DUP 2; CAR; MEM; IF { DUP 2; GET 3; GET 3; DUP 2; CAR; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; DUP 2; CAR; CAR; GET 3; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; DUP; DUP 7; CAR; DUP; DUG 2; GET; IF_NONE { PUSH int 614; FAILWITH } {}; UNPAIR; UNPAIR; SWAP; CAR; DIG 9; CDR; SWAP; PAIR; SWAP; PAIR; PAIR; SOME; SWAP; UPDATE; PAIR; SWAP; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 18 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } { PUSH int -1; FAILWITH } } }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; CAR; CAR; GET 3; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SOME; UPDATE 7; NIL operation; PAIR }; Elt 19 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } {} } } { PUSH int -1; FAILWITH } } }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; CAR; CAR; GET 3; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; SWAP; UNPAIR; SWAP; UNPAIR; SWAP; CDR; DIG 3; UNPAIR; SWAP; PAIR; PAIR; SWAP; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 20 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; CAR; CAR; GET 3; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; UPDATE 8; NIL operation; PAIR }; Elt 21 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT {} { PUSH int -1; FAILWITH } } } } }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; CAR; CAR; GET 3; SENDER; COMPARE; EQ; IF {} { PUSH string "CMPT_NOT_ADMIN"; FAILWITH }; DUP 2; GET 3; GET 3; DUP 2; CAR; MEM; IF { DUP 2; GET 3; GET 3; DUP 2; CAR; GET; IF_NONE { PUSH int 790; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF { PUSH string "CMPT_MARKET_ALREADY_LISTED"; FAILWITH } {}; SWAP; UNPAIR; SWAP; UNPAIR; UNPAIR; SWAP; UNPAIR; PUSH (pair timestamp nat) (Pair "1970-01-01T00:00:00Z" 0); DUP 7; GET 4; PAIR; PUSH nat 0; DUP 8; GET 3; PAIR; PAIR; PUSH (pair (pair bool nat) (pair bool bool)) (Pair (Pair True 500000000000000000) (Pair True True)); PAIR; SOME; DUP 7; CAR; UPDATE; PAIR; SWAP; UNPAIR; SWAP; DUP 6; CAR; SOME; PUSH string "-USD"; DIG 7; GET 3; CONCAT; UPDATE; SWAP; PAIR; PAIR; PAIR; SWAP; PAIR; NIL operation; PAIR }; Elt 22 { UNPAIR; IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } { IF_LEFT { PUSH int -1; FAILWITH } {} } } } }; PUSH mutez 1; PUSH nat 0; MUL; AMOUNT; COMPARE; EQ; IF {} { PUSH string "TEZ_TRANSFERED"; FAILWITH }; DUP 2; GET 8; IF { PUSH string "CMPT_TRANSFER_PAUSED"; FAILWITH } {}; DUP 2; GET 3; GET 3; DUP 2; CAR; CAR; MEM; IF { DUP 2; GET 3; GET 3; DUP 2; CAR; CAR; GET; IF_NONE { PUSH int 786; FAILWITH } {}; CAR; GET 3 } { PUSH bool False }; IF {} { PUSH string "CMPT_MARKET_NOT_LISTED"; FAILWITH }; DUP 2; CAR; GET 3; CAR; DUP 2; CAR; CDR; MEM; IF { DUP 2; CAR; GET 3; CAR; DUP 2; CAR; CDR; GET; IF_NONE { PUSH int 185; FAILWITH } {}; DUP 2; CAR; CAR; MEM } { PUSH bool False }; IF { DUP 2; GET 3; CAR; CAR; DUP 2; CAR; CDR; MEM; IF { PUSH nat 0; DUP 3; GET 3; CAR; CAR; DUP 3; CAR; CDR; GET; IF_NONE { PUSH int 187; FAILWITH } {}; SIZE; COMPARE; NEQ } { PUSH bool False }; IF { DUP 2; CAR; CAR; CAR; CAR; DUP 2; CAR; CDR; MEM; IF {} { PUSH string "CMPT_LIQUIDITY_ABSENT"; FAILWITH }; DUP 2; CAR; CAR; CAR; CAR; DUP 2; CAR; CDR; GET; IF_NONE { PUSH int 802; FAILWITH } {}; GET 4; IF {} { PUSH string "CMPT_LIQUIDITY_INVALID"; FAILWITH }; DUP 2; CAR; CAR; CAR; CAR; DUP 2; CAR; CDR; GET; IF_NONE { PUSH int 804; FAILWITH } {}; GET 3; LEVEL; SUB; ISNAT; IF_NONE { PUSH string "SUBTRACTION_UNDERFLOW"; FAILWITH } {}; PUSH nat 0; DUP 2; COMPARE; EQ; IF {} { PUSH string "CMPT_LIQUIDITY_OLD"; FAILWITH }; DUP 3; GET 3; GET 3; DUP 3; CAR; CAR; GET; IF_NONE { PUSH int 316; FAILWITH } {}; GET 8; LEVEL; DIG 2; DROP; COMPARE; EQ; IF {} { PUSH string "CMPT_UPDATE_PRICE"; FAILWITH }; PUSH nat 0; DUP 3; GET 3; GET 3; DUP 3; CAR; CAR; GET; IF_NONE { PUSH int 317; FAILWITH } {}; GET 3; CDR; COMPARE; GT; IF {} { PUSH string "CMPT_INVALID_PRICE"; FAILWITH }; DUP 2; CAR; GET 3; CDR; DUP 2; GET 4; DUP 4; GET 3; GET 3; DUP 4; CAR; CAR; GET; IF_NONE { PUSH int 196; FAILWITH } {}; GET 3; CDR; MUL; EDIV; IF_NONE { PUSH int 61; FAILWITH } { CAR }; INT; DUP 3; CAR; CAR; CAR; CAR; DUP 3; CAR; CDR; GET; IF_NONE { PUSH int 195; FAILWITH } {}; CAR; SUB; PUSH int 0; SWAP; COMPARE; GE; IF {} { PUSH string "CMPT_REDEEMER_SHORTFALL"; FAILWITH } } {} } {}; DUP 2; CAR; CAR; CAR; CAR; DUP 2; CAR; CDR; MEM; IF { SWAP; UNPAIR; UNPAIR; UNPAIR; UNPAIR; DUP; DIG 6; CAR; CDR; DUP; DUG 2; GET; IF_NONE { PUSH int 809; FAILWITH } {}; PUSH bool False; UPDATE 4; SOME; SWAP; UPDATE; PAIR; PAIR; PAIR; PAIR } { DROP }; NIL operation; PAIR }})