<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1416px" preserveAspectRatio="none" style="width:846px;height:1416px;" version="1.1" viewBox="0 0 846 1416" width="846px" zoomAndPan="magnify"><defs><filter height="300%" id="f1b78amhmnn1qz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[a9b42c28185654053bfaf63fb781d768]
cluster CToken--><polygon fill="#FFFFFF" filter="url(#f1b78amhmnn1qz)" points="16,6,77,6,84,28.4883,829,28.4883,829,1409,16,1409,16,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="84" y1="28.4883" y2="28.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="55" x="20" y="21.5352">CToken</text><!--MD5=[669783ab17abc8ad34fd4ec7d6586cbf]
class CToken--><rect codeLine="2" fill="#FEFECE" filter="url(#f1b78amhmnn1qz)" height="1192.0469" id="CToken" style="stroke:#A80036;stroke-width:1.5;" width="480" x="32" y="41"/><ellipse cx="245.75" cy="57" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M248.2231,63.1431 Q247.6421,63.4419 247.0029,63.5913 Q246.3638,63.7407 245.6582,63.7407 Q243.1514,63.7407 241.8315,62.0889 Q240.5117,60.437 240.5117,57.3159 Q240.5117,54.1865 241.8315,52.5347 Q243.1514,50.8828 245.6582,50.8828 Q246.3638,50.8828 247.0112,51.0322 Q247.6587,51.1816 248.2231,51.4805 L248.2231,54.2031 Q247.5923,53.6221 246.9988,53.3523 Q246.4053,53.0825 245.7744,53.0825 Q244.4297,53.0825 243.7449,54.1492 Q243.0601,55.2158 243.0601,57.3159 Q243.0601,59.4077 243.7449,60.4744 Q244.4297,61.541 245.7744,61.541 Q246.4053,61.541 246.9988,61.2712 Q247.5923,61.0015 248.2231,60.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="266.25" y="61.5352">CToken</text><line style="stroke:#A80036;stroke-width:1.5;" x1="33" x2="511" y1="73" y2="73"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="215" x="38" y="104.5898">big_map(address -&gt; TBalance) balances</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="38" y="117.5449">nat totalSupply</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="151" x="38" y="130.5">nat borrowRateMaxMantissa</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="163" x="38" y="143.4551">nat reserveFactorMaxMantissa</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="38" y="156.4102">address comptroller</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="38" y="169.3652">address interestRateModel</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="171" x="38" y="182.3203">nat initialExchangeRateMantissa</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="38" y="195.2754">nat reserveFactorMantissa</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="130" x="38" y="208.2305">nat accrualBlockNumber</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="144" x="38" y="221.1855">bool isAccrualInterestValid</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="38" y="234.1406">nat borrowIndex</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="38" y="247.0957">nat totalBorrows</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="92" x="38" y="260.0508">nat totalReserves</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="38" y="273.0059">nat borrowRatePerBlock</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="124" x="38" y="285.9609">nat supplyRatePerBlock</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="119" x="38" y="298.916">address administrator</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="38" y="311.8711">some(address) pendingAdministrator</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="38" y="324.8262">set(nat) activeOperations</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="160" x="38" y="337.7813">nat accrualIntPeriodRelevance</text><line style="stroke:#A80036;stroke-width:1.0;" x1="33" x2="251.5" y1="87.4775" y2="87.4775"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="41" x="251.5" y="91.1348">storage</text><line style="stroke:#A80036;stroke-width:1.0;" x1="292.5" x2="511" y1="87.4775" y2="87.4775"/><ellipse cx="43" cy="364.0566" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="95" x="52" y="367.6914">mint(params: nat)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="374.0117"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="253" x="52" y="380.6465">mintInternal(minter: address, mintAmount: nat)</text><ellipse cx="43" cy="389.9668" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="295" x="52" y="393.6016">verifyMintAllowed(minter_: address, mintAmount_: nat)</text><ellipse cx="43" cy="402.9219" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="177" x="52" y="406.5566">getMintTokens(mintAmount: nat)</text><ellipse cx="43" cy="415.877" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="229" x="52" y="419.5117">doTransferIn(from_: address, amount: nat)</text><ellipse cx="43" cy="428.832" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="111" x="52" y="432.4668">redeem(params: nat)</text><ellipse cx="43" cy="441.7871" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="170" x="52" y="445.4219">redeemUnderlying(params: nat)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="451.7422"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="405" x="52" y="458.377">redeemInternal(redeemer: address, redeemAmount: nat, isUnderlying: bool)</text><ellipse cx="43" cy="467.6973" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="346" x="52" y="471.332">verifyRedeemAllowed(redeemer_: address, redeemAmount_: nat)</text><ellipse cx="43" cy="480.6523" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="316" x="52" y="484.2871">doTransferOut(to_: address, amount: nat, isContract: bool)</text><ellipse cx="43" cy="493.6074" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="52" y="497.2422">borrow(params: nat)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="503.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="298" x="52" y="510.1973">borrowInternal(borrower: address, borrowAmount: nat)</text><ellipse cx="43" cy="519.5176" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="340" x="52" y="523.1523">verifyBorrowAllowed(borrower_: address, borrowAmount_: nat)</text><ellipse cx="43" cy="532.4727" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="52" y="536.1074">repayBorrow(params: nat)</text><ellipse cx="43" cy="545.4277" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="309" x="52" y="549.0625">repayBorrowBehalf(borrower: address, repayAmount: nat)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="555.3828"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="403" x="52" y="562.0176">repayBorrowInternal(payer: address, borrower: address, repayAmount: nat)</text><ellipse cx="43" cy="571.3379" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="454" x="52" y="574.9727">verifyRepayBorrowAllowed(payer_: address, borrower_: address, repayAmount_: nat)</text><ellipse cx="43" cy="584.293" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="261" x="52" y="587.9277">transfer(from_: address, to_: address, value: nat)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="594.248"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="394" x="52" y="600.8828">transferInternal(from_: address, to_: address, value: nat, sender: address)</text><ellipse cx="43" cy="610.2031" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="393" x="52" y="613.8379">verifyTransferAllowed(src_: address, dst_: address, transferTokens_: nat)</text><ellipse cx="43" cy="623.1582" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="227" x="52" y="626.793">addAddressIfNecessary(address: address)</text><ellipse cx="43" cy="636.1133" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="202" x="52" y="639.748">approve(spender: address, value: nat)</text><ellipse cx="43" cy="649.0684" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="174" x="52" y="652.7031">nat getBalance(params: address)</text><ellipse cx="43" cy="662.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="246" x="52" y="665.6582">nat getBalanceOfUnderlying(params: address)</text><ellipse cx="43" cy="674.9785" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="108" x="52" y="678.6133">nat getTotalSupply()</text><ellipse cx="43" cy="687.9336" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="280" x="52" y="691.5684">nat getAllowance(owner: address, spender: address)</text><ellipse cx="43" cy="700.8887" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="314" x="52" y="704.5234">TAccountSnapshot getAccountSnapshot(params: address)</text><ellipse cx="43" cy="713.8438" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="151" x="52" y="717.4785">updateBorrowRatePerBlock()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="723.7988"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="147" x="52" y="730.4336">updateBorrowRateInternal()</text><ellipse cx="43" cy="739.7539" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="181" x="52" y="743.3887">setBorrowRatePerBlock(value: nat)</text><ellipse cx="43" cy="752.709" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="149" x="52" y="756.3438">updateSupplyRatePerBlock()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="762.6641"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="52" y="769.2988">updateSupplyRateInternal()</text><ellipse cx="43" cy="778.6191" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="179" x="52" y="782.2539">setSupplyRatePerBlock(value: nat)</text><ellipse cx="43" cy="791.5742" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="231" x="52" y="795.209">nat borrowBalanceStored(params: address)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="801.5293"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="195" x="52" y="808.1641">getBorrowBalance(account: address)</text><ellipse cx="43" cy="817.4844" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="52" y="821.1191">nat exchangeRateStored()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="827.4395"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="52" y="834.0742">nat exchangeRateStoredImpl()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="840.3945"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="191" x="52" y="847.0293">exchangeRateAdjusted(adjustment)</text><ellipse cx="43" cy="856.3496" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="52" y="859.9844">nat getCash()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="866.3047"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="52" y="872.9395">getCashImpl()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="879.2598"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="52" y="885.8945">updateCash()</text><ellipse cx="43" cy="895.2148" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="52" y="898.8496">accrueInterest()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="905.1699"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="52" y="911.8047">accrueInterestInternal()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="918.125"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="145" x="52" y="924.7598">invalidateAccruedInterest()</text><ellipse cx="43" cy="934.0801" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="233" x="52" y="937.7148">doAccrueInterest(borrowRateMantissa: nat)</text><ellipse cx="43" cy="947.0352" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="261" x="52" y="950.6699">setAccrualIntPeriodRelevance(blockNumber: nat)</text><ellipse cx="43" cy="959.9902" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="304" x="52" y="963.625">setPendingGovernance(pendingAdminAddress: address)</text><ellipse cx="43" cy="972.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="107" x="52" y="976.5801">acceptGovernance()</text><ellipse cx="43" cy="985.9004" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="52" y="989.5352">removePendingGovernance()</text><ellipse cx="43" cy="998.8555" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="246" x="52" y="1002.4902">setComptroller(comptrollerAddress: address)</text><ellipse cx="43" cy="1011.8105" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="310" x="52" y="1015.4453">setInterestRateModel(interestRateModelAddress: address)</text><ellipse cx="43" cy="1024.7656" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="351" x="52" y="1028.4004">setInterestRateModelInternal(interestRateModelAddress: address)</text><ellipse cx="43" cy="1037.7207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="220" x="52" y="1041.3555">setReserveFactor(newReserveFactor: nat)</text><ellipse cx="43" cy="1050.6758" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="261" x="52" y="1054.3105">setReserveFactorInternal(newReserveFactor: nat)</text><ellipse cx="43" cy="1063.6309" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="140" x="52" y="1067.2656">addReserves(amount: nat)</text><ellipse cx="43" cy="1076.5859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="336" x="52" y="1080.2207">addReservesInternal(originalSender: address, addAmount: nat)</text><ellipse cx="43" cy="1089.541" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="157" x="52" y="1093.1758">reduceReserves(amount: nat)</text><ellipse cx="43" cy="1102.4961" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="175" x="52" y="1106.1309">reduceReservesInternal(amount)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="33" x2="239.5" y1="350.5791" y2="350.5791"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="239.5" y="354.2363">entry points</text><line style="stroke:#A80036;stroke-width:1.0;" x1="304.5" x2="511" y1="350.5791" y2="350.5791"/><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="1129.4063"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="52" y="1136.041">verifyAdministrator()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="1142.3613"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="130" x="52" y="1148.9961">checkCash(amount: nat)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="1155.3164"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="177" x="52" y="1161.9512">verifyAccruedInterestRelevance()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="1168.2715"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="52" y="1174.9063">verifyInternal()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="1181.2266"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98" x="52" y="1187.8613">verifyNotInternal()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="1194.1816"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="52" y="1200.8164">verifyIRM()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="1207.1367"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="359" x="52" y="1213.7715">getActualAmount(amount: nat, isUnderlying: bool, adjustment: nat)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="40" y="1220.0918"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="278" x="52" y="1226.7266">getRedeemAmount(amount: nat, isUnderlying: bool)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="33" x2="252" y1="1118.9287" y2="1118.9287"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="252" y="1122.5859">helpers</text><line style="stroke:#A80036;stroke-width:1.0;" x1="292" x2="511" y1="1118.9287" y2="1118.9287"/><!--MD5=[101a7fbc5c430ce32c99189522a42a1c]
class TBalance--><rect codeLine="93" fill="#FEFECE" filter="url(#f1b78amhmnn1qz)" height="86.8652" id="TBalance" style="stroke:#A80036;stroke-width:1.5;" width="265" x="547.5" y="593.5"/><ellipse cx="649.75" cy="609.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M652.2231,615.6431 Q651.6421,615.9419 651.0029,616.0913 Q650.3638,616.2407 649.6582,616.2407 Q647.1514,616.2407 645.8315,614.5889 Q644.5117,612.937 644.5117,609.8159 Q644.5117,606.6865 645.8315,605.0347 Q647.1514,603.3828 649.6582,603.3828 Q650.3638,603.3828 651.0112,603.5322 Q651.6587,603.6816 652.2231,603.9805 L652.2231,606.7031 Q651.5923,606.1221 650.9988,605.8523 Q650.4053,605.5825 649.7744,605.5825 Q648.4297,605.5825 647.7449,606.6492 Q647.0601,607.7158 647.0601,609.8159 Q647.0601,611.9077 647.7449,612.9744 Q648.4297,614.041 649.7744,614.041 Q650.4053,614.041 650.9988,613.7712 Q651.5923,613.5015 652.2231,612.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="52" x="670.25" y="614.0352">TBalance</text><line style="stroke:#A80036;stroke-width:1.5;" x1="548.5" x2="811.5" y1="625.5" y2="625.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="253" x="553.5" y="640.1348">Comptroller.TBorrowSnapshot accountBorrows</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61" x="553.5" y="653.0898">nat balance</text><line style="stroke:#A80036;stroke-width:1.5;" x1="548.5" x2="811.5" y1="659.4102" y2="659.4102"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="168" x="553.5" y="674.0449">map(address -&gt; nat) approvals</text><!--MD5=[61592db0f7e2ffc314ea40eda541675d]
class TAccountSnapshot--><rect codeLine="99" fill="#FEFECE" filter="url(#f1b78amhmnn1qz)" height="99.8203" id="TAccountSnapshot" style="stroke:#A80036;stroke-width:1.5;" width="154" x="195" y="1293"/><ellipse cx="217.65" cy="1309" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M220.1231,1315.1431 Q219.5421,1315.4419 218.9029,1315.5913 Q218.2638,1315.7407 217.5582,1315.7407 Q215.0514,1315.7407 213.7315,1314.0889 Q212.4117,1312.437 212.4117,1309.3159 Q212.4117,1306.1865 213.7315,1304.5347 Q215.0514,1302.8828 217.5582,1302.8828 Q218.2638,1302.8828 218.9112,1303.0322 Q219.5587,1303.1816 220.1231,1303.4805 L220.1231,1306.2031 Q219.4923,1305.6221 218.8988,1305.3523 Q218.3053,1305.0825 217.6744,1305.0825 Q216.3297,1305.0825 215.6449,1306.1492 Q214.9601,1307.2158 214.9601,1309.3159 Q214.9601,1311.4077 215.6449,1312.4744 Q216.3297,1313.541 217.6744,1313.541 Q218.3053,1313.541 218.8988,1313.2712 Q219.4923,1313.0015 220.1231,1312.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="105" x="233.35" y="1313.5352">TAccountSnapshot</text><line style="stroke:#A80036;stroke-width:1.5;" x1="196" x2="348" y1="1325" y2="1325"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="201" y="1339.6348">address account</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="99" x="201" y="1352.5898">nat cTokenBalance</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="99" x="201" y="1365.5449">nat borrowBalance</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="201" y="1378.5">nat exchangeRateMantissa</text><line style="stroke:#A80036;stroke-width:1.5;" x1="196" x2="348" y1="1384.8203" y2="1384.8203"/><!--MD5=[c9976c82d1290f6b24d1f4cc179b1d8c]
class TBorrowSnapshot--><rect codeLine="105" fill="#FEFECE" filter="url(#f1b78amhmnn1qz)" height="73.9102" id="TBorrowSnapshot" style="stroke:#A80036;stroke-width:1.5;" width="132" x="384" y="1306"/><ellipse cx="399" cy="1322" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M401.4731,1328.1431 Q400.8921,1328.4419 400.2529,1328.5913 Q399.6138,1328.7407 398.9082,1328.7407 Q396.4014,1328.7407 395.0815,1327.0889 Q393.7617,1325.437 393.7617,1322.3159 Q393.7617,1319.1865 395.0815,1317.5347 Q396.4014,1315.8828 398.9082,1315.8828 Q399.6138,1315.8828 400.2612,1316.0322 Q400.9087,1316.1816 401.4731,1316.4805 L401.4731,1319.2031 Q400.8423,1318.6221 400.2488,1318.3523 Q399.6553,1318.0825 399.0244,1318.0825 Q397.6797,1318.0825 396.9949,1319.1492 Q396.3101,1320.2158 396.3101,1322.3159 Q396.3101,1324.4077 396.9949,1325.4744 Q397.6797,1326.541 399.0244,1326.541 Q399.6553,1326.541 400.2488,1326.2712 Q400.8423,1326.0015 401.4731,1325.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="100" x="413" y="1326.5352">TBorrowSnapshot</text><line style="stroke:#A80036;stroke-width:1.5;" x1="385" x2="515" y1="1338" y2="1338"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="67" x="390" y="1352.6348">nat principal</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="390" y="1365.5898">nat interestIndex</text><line style="stroke:#A80036;stroke-width:1.5;" x1="385" x2="515" y1="1371.9102" y2="1371.9102"/><!--MD5=[8bc82a9bdd5f3df61b628d6c163c2e99]
link CToken to TBalance--><!--MD5=[1b8ac837d5a649892a1db17269b63fa4]
link CToken to TAccountSnapshot--><!--MD5=[5923d72aa642cd13700c2b38f66f0781]
link TAccountSnapshot to TBorrowSnapshot--><!--MD5=[0fdf89622d22abc95d019dfdfabf9f41]
@startuml
package CToken {
    class CToken {
        - -storage- -
        big_map(address -> TBalance) balances
        nat totalSupply
        nat borrowRateMaxMantissa
        nat reserveFactorMaxMantissa
        address comptroller
        address interestRateModel
        nat initialExchangeRateMantissa
        nat reserveFactorMantissa
        nat accrualBlockNumber
        bool isAccrualInterestValid
        nat borrowIndex
        nat totalBorrows
        nat totalReserves
        nat borrowRatePerBlock
        nat supplyRatePerBlock
        address administrator
        some(address) pendingAdministrator
        set(nat) activeOperations
        nat accrualIntPeriodRelevance
        - -entry points- -
        +mint(params: nat)
        -mintInternal(minter: address, mintAmount: nat)
        +verifyMintAllowed(minter_: address, mintAmount_: nat)
        +getMintTokens(mintAmount: nat)
        +doTransferIn(from_: address, amount: nat)
        +redeem(params: nat)
        +redeemUnderlying(params: nat)
        -redeemInternal(redeemer: address, redeemAmount: nat, isUnderlying: bool)
        +verifyRedeemAllowed(redeemer_: address, redeemAmount_: nat)
        +doTransferOut(to_: address, amount: nat, isContract: bool)
        +borrow(params: nat)
        -borrowInternal(borrower: address, borrowAmount: nat)
        +verifyBorrowAllowed(borrower_: address, borrowAmount_: nat)
        +repayBorrow(params: nat)
        +repayBorrowBehalf(borrower: address, repayAmount: nat)
        -repayBorrowInternal(payer: address, borrower: address, repayAmount: nat)
        +verifyRepayBorrowAllowed(payer_: address, borrower_: address, repayAmount_: nat)
        +transfer(from_: address, to_: address, value: nat)
        -transferInternal(from_: address, to_: address, value: nat, sender: address)
        +verifyTransferAllowed(src_: address, dst_: address, transferTokens_: nat)
        +addAddressIfNecessary(address: address)
        +approve(spender: address, value: nat)
        +nat getBalance(params: address)
        +nat getBalanceOfUnderlying(params: address)
        +nat getTotalSupply()
        +nat getAllowance(owner: address, spender: address)
        +TAccountSnapshot getAccountSnapshot(params: address)
        +updateBorrowRatePerBlock()
        -updateBorrowRateInternal()
        +setBorrowRatePerBlock(value: nat)
        +updateSupplyRatePerBlock()
        -updateSupplyRateInternal()
        +setSupplyRatePerBlock(value: nat)
        +nat borrowBalanceStored(params: address)
        -getBorrowBalance(account: address)
        +nat exchangeRateStored()
        -nat exchangeRateStoredImpl()
        -exchangeRateAdjusted(adjustment)
        +nat getCash()
        -getCashImpl()
        -updateCash()
        +accrueInterest()
        -accrueInterestInternal()
        -invalidateAccruedInterest()
        +doAccrueInterest(borrowRateMantissa: nat)
        +setAccrualIntPeriodRelevance(blockNumber: nat)
        +setPendingGovernance(pendingAdminAddress: address)
        +acceptGovernance()
        +removePendingGovernance()
        +setComptroller(comptrollerAddress: address)
        +setInterestRateModel(interestRateModelAddress: address)
        +setInterestRateModelInternal(interestRateModelAddress: address)
        +setReserveFactor(newReserveFactor: nat)
        +setReserveFactorInternal(newReserveFactor: nat)
        +addReserves(amount: nat)
        +addReservesInternal(originalSender: address, addAmount: nat)
        +reduceReserves(amount: nat)
        +reduceReservesInternal(amount)
        - -helpers- -
        -verifyAdministrator()
        -checkCash(amount: nat)
        -verifyAccruedInterestRelevance()
        -verifyInternal()
        -verifyNotInternal()
        -verifyIRM()
        -getActualAmount(amount: nat, isUnderlying: bool, adjustment: nat)
        -getRedeemAmount(amount: nat, isUnderlying: bool)
    }

    class TBalance {
        map(address -> nat) approvals
        Comptroller.TBorrowSnapshot accountBorrows
        nat balance

    }
    class TAccountSnapshot {
        address account
        nat cTokenBalance
        nat borrowBalance
        nat exchangeRateMantissa
    }
    class TBorrowSnapshot {
        nat principal
        nat interestIndex
    }
}
@enduml

PlantUML version 1.2021.00(Sun Jan 10 05:25:05 EST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>